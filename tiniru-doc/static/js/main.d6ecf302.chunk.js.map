{"version":3,"sources":["containers/Header.js","component/Home.js","config.js","component/Project.js","component/Confirmation.js","component/Manage.js","helpers/Query.js","helpers/Helpers.js","topicdata.js","component/Topic.js","component/Write.js","component/Changelog.js","component/Generate.js","containers/Main.js","containers/Footer.js","App.js","index.js"],"names":["Header","react_default","a","createElement","id","className","Link","to","rel","target","href","Component","Home","window","scrollTo","Config","DB_name","DB_version","Project","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","type","name","logo","description","siteUrl","db","handleLoad","bind","assertThisInitialized","handleSubmit","handleInputChange","handleUploadLogo","readProject","event","value","setState","defineProperty","request","indexedDB","open","ini","onsuccess","result","transaction","objectStore","index","openCursor","dt","showLogo","localStorage","setItem","slug","onerror","console","log","error","e","preventDefault","url","dataIns","encodeURI","replace","toLowerCase","prop","objectStoreRequest","put","history","push","img","length","refs","imagepreview","innerHTML","file","files","reader","FileReader","readAsBinaryString","onload","src","btoa","onSubmit","ref","onChange","placeholder","Confirmation","visible","role","aria-labelledby","aria-hidden","style","display","onClick","modal","data-dismiss","aria-label","message","remove","topicTable","pageTable","changeLogTable","TopicListItem","editUrl","topic","key","onDragOver","dragover","draggable","onDragStart","dragstart","onDragEnd","dragend","title","TopicList","_this2","idx","draggedItem","items","dataTransfer","effectAllowed","setData","parentNode","draggedOverItem","filter","item","splice","classList","map","n","content","meta_keywords","meta_description","publish","order","project","isToggleOn","showChild","handleToggle","datalist","sort","b","parseFloat","_this3","setTimeout","_this4","listItem","Manage_TopicListItem","Manage","_this5","onDragStartLog","changelogList","onDragOverLog","onDragEndLog","datelog","topicFormShow","topicList","modalVisible","slugDeletePage","slugDeleteTopic","slugDeleteLog","toggleFormTopic","removePage","openModal","handleRemovePage","document","getElementById","get","getItem","getAll","dtlist","vendorIndex","keyRng","IDBKeyRange","only","cursorRequest","pages","cursor","continue","forceUpdate","objectStoreRequestLog","dtlog","delete","prevState","obj","_this6","hash","location","listItems","Manage_TopicList","listItemLogs","bottom","right","component_Confirmation","getListRecord","table","callback","record","oncomplete","close","getLastRecord","colIndex","lastRecord","toUrl","postData","data","arguments","undefined","fetch","method","referrer","body","JSON","stringify","then","response","json","topicTemplate","isEdit","showEdit","handleUpdateTopic","add","register","Topic","removeTopic","handleRemoveTopic","addTopic","dataRow","parseInt","dataPage","x","dtp","pageIns","i","_regiserTopic","Topic_TopicList","listTemplates","registerTopic","Write","paramSlug","match","params","sessionStorage","topic_title","onUnload","addEventListener","removeEventListener","returnValue","toolbarOptions","container","list","script","size","header","color","background","align","instable","handlers","insertTable","insertRowAbove","insertRowBelow","insertColumnLeft","insertColumnRight","deleteRow","deleteColumn","deleteTable","buttonlink","range","quill","getSelection","hashtag","prompt","insertEmbed","Quill","theme","scrollingContainer","documentElement","modules","toolbar","bounds","getModule","Array","prototype","slice","querySelectorAll","forEach","textContent","dataset","querySelector","contains","root","on","eventName","html","children","path","objectPageRequest","currentPage","_this$setState","Prompt","when","position","suffix","Changelog","projectTable","navigationTable","Navigation","label","Generate","navlist","server","sdownload","slugDeleteNav","progressBar","ProgressBarValue","removeNav","handleRemoveNav","handleGenerate","thisProject","indexKey","getRecord","datatype","app","topics","changelog","navigation","stripVal","Math","round","barValue","generate","download","Generate_Navigation","width","aria-valuenow","aria-valuemin","aria-valuemax","isCreated","withRouter","_ref","cjs","timeout","enter","exit","classNames","Switch","Route","component","render","component_Manage","pathname","Redirect","component_Topic","component_Write","component_Changelog","component_Generate","exact","strict","component_Home","Footer","App","onupgradeneeded","createObjectStore","keyPath","createIndex","unique","containers_Header","containers_Main","containers_Footer","ReactDOM","HashRouter","src_App_0"],"mappings":"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","file":"static/js/main.d6ecf302.chunk.js","sourcesContent":["/*\n * Tiniru Doc\n * Version 0.1, 2019\n * \n * @author - https://github.com/kangfauz\n * \n * @website - https://tiniru.com\n * \n */\n\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom'\nclass Header extends Component {\n   render() {\n      return (\n         <div > \n            <nav id=\"topnav\" className=\"navbar navbar-expand-lg navbar-light bg-light fixed-top border-bottom\">\n                <Link className=\"navbar-brand tiniru \"   to=\"/\">Tini<span >ru</span></Link>\n                <ul className=\"navbar-nav ml-auto\">\n                    <li className=\"nav-item\">\n                      <a className=\"btn  btn-outline-dark\" rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://tiniru.com\">Work Online</a>\n                    </li>\n                </ul>\n          </nav>\n         </div>\n      );\n   }\n}\nexport default Header;","/*\n * Tiniru Doc\n * Version 0.1, 2019\n * \n * @author - https://github.com/kangfauz\n * \n * @website - https://tiniru.com\n * \n */\n\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom'\n\n\nclass Home extends Component{\n\n    componentDidMount() {\n        window.scrollTo(0,0);\n    }\n    \n  \n    render() {\n        return (\n            <main className=\"container  mt-5 pt-5 mb-5\" >\n                <div className=\"row justify-content-center\">\n                    <div className=\"col-md-8\">\n                        <div className=\"jumbotron text-center\">\n                            <h1 className=\"display-4\">Tiniru Doc</h1>\n                            <p className=\"lead\">An easy way to make documentation of App</p>\n                            <hr className=\"my-4\"/>\n                            <p>Tiniru Doc is a Documentation Generator of App. Aims to make easier the developers in making documentation of App.</p>\n                            <Link to=\"/project\" className=\"btn btn-primary btn-lg\" >Get Started!</Link>\n                        </div>\n                    </div>\n                </div>\n            </main>\n        )\n    }\n}\n\nexport default Home;","/*\n * Tiniru Doc\n * Version 0.1, 2019\n * \n * @author - https://github.com/kangfauz\n * \n * @website - https://tiniru.com\n * \n */\n\nexport const Config = {\n    DB_name     : 'TINIRU_DB',\n    DB_version  :1,\n    projectTable: 'project',\n    topicTable  : 'topics', \n    pageTable   : 'pages',\n    changeLogTable   : 'changelog',\n    navigationTable : 'navigation'\n}\n","/*\n * Tiniru Doc\n * Version 0.1, 2019\n * \n * @author - https://github.com/kangfauz\n * \n * @website - https://tiniru.com\n * \n */\n\nimport React, { Component } from 'react';\n\nimport {Config} from '../config.js'\n\nconst DB_name       = Config.DB_name;\nconst DB_version    = Config.DB_version;\n\nconst toUrl = (url)=>{\n    return encodeURI(url.replace(' ','').toLowerCase());\n}\n\nclass Project extends Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            type        : 'website',\n            name        : '',\n            logo        : '',\n            description : '',\n            siteUrl     : ''\n          };\n        \n        this.db = null;\n        \n        this.handleLoad = this.handleLoad.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleInputChange = this.handleInputChange.bind(this);\n        this.handleUploadLogo = this.handleUploadLogo.bind(this);\n    }\n    componentDidMount() {\n        window.scrollTo(0,0);\n        this.handleLoad();\n    }\n    \n    handleLoad()\n    {\n       \n        \n        this.readProject();\n        \n        \n    }\n\n    handleInputChange(event)\n    {\n        const target    = event.target;\n        const value     = target.value;\n        const name      = target.name;\n\n        this.setState({\n            [name]: value\n        });\n    }\n\n    readProject()\n    {\n        \n        //const query = new URLSearchParams(this.props.location.search);\n        //const _edit = query.get('_edit')\n        \n        //console.log(_edit);\n        var request = window.indexedDB.open(DB_name, DB_version);\n        var db;\n\n        var ini = this\n        request.onsuccess = function(event) {\n            //console.log('[onsuccess]', request.result);\n            db = event.target.result; // === request.result\n            var transaction = db.transaction([\"project\"]);\n            var objectStore = transaction.objectStore(\"project\");\n            var index = objectStore.index('slug');\n            var openCursorRequest = index.openCursor(null, 'prev');\n            //var request = objectStore.get(1);\n            //console.log(request);\n            \n            openCursorRequest.onsuccess = function (event) {\n                if (event.target.result) {\n                    var dt = event.target.result.value;\n                    //console.log(\"ini data dt\");\n                    //console.log(dt);\n                    if (typeof dt !== 'undefined')\n                    {\n                        ini.setState( {\n                            type        : dt.type,\n                            name        : dt.name,\n                            logo        : dt.logo,\n                            description : dt.description,\n                            siteUrl     : dt.siteUrl\n                        });\n                        ini.showLogo();\n                        localStorage.setItem('myProject', dt.slug);\n                        localStorage.setItem('myProjectName', dt.name);\n                        //if(_edit == null || _edit === 'undefined' || _edit !== 'true') prop.history.push(\"/manage\")\n                    }\n                }\n                \n                //elem.name.value = this.state.name;\n                //elem.type.value = this.state.type;\n                //elem.description.value = this.state.description;  \n                //elem.siteUrl.value = this.state.siteUrl; \n                \n               \n\n            };\n\n            request.onerror = function (event) {\n                console.log('The fetch data failed');\n            }\n            \n        };\n        \n        request.onerror = function(event) {\n            console.log('[onerror]', request.error);\n        };\n       \n        \n        \n    }\n    \n    handleSubmit(e)\n    {\n        e.preventDefault();\n\n        //console.log(this.state);\n        var dataIns = { \n            slug: toUrl(this.state.name), \n            name: this.state.name, \n            type: this.state.type, \n            logo:this.state.logo, \n            description: this.state.description, \n            siteUrl:this.state.siteUrl };\n\n        localStorage.setItem('myProject', dataIns.slug);\n        \n        var request = window.indexedDB.open(DB_name, DB_version);\n        var db;\n        var prop = this.props;\n        request.onsuccess = function(event) {\n            //console.log('[onsuccess]', request.result);\n            db = event.target.result; // === request.result\n            \n            //console.log(db);\n            var transaction = db.transaction([\"project\"], \"readwrite\");\n            var objectStore = transaction.objectStore(\"project\");\n            //console.log(dataIns);\n            var objectStoreRequest = objectStore.put(dataIns);\n\n            \n            objectStoreRequest.onsuccess = function (event) {\n                console.log('The data has been written successfully');\n                prop.history.push(\"/manage\")\n\n            };\n\n            objectStoreRequest.onerror = function (event) {\n                console.log('The data has been written failed');\n            }\n            \n        };\n        \n        request.onerror = function(event) {\n            console.log('[onerror]', request.error);\n        };\n        \n        \n    }\n    showLogo()\n    {\n        var img = '<img src=\"'+this.state.logo+'\" style=\"max-width:124px;\" class=\"img-fluid\">';\n        if (this.state.logo.length>0){\n            \n            this.refs.imagepreview.innerHTML=img;\n        }\n            \n    }\n    handleUploadLogo(event)\n    {\n        const target    = event.target;\n        //const value     = target.value;\n        const file      = target.files[0];\n        //const name      = target.name;\n\n        var reader = new FileReader();\n        var ini = this;\n        reader.readAsBinaryString(file);\n\n        reader.onload = function() {\n            var src = 'data:image/jpeg;base64,'+btoa(reader.result);\n            //console.log(src);\n            ini.setState({'logo':src});\n            ini.showLogo();\n        };\n        reader.onerror = function() {\n            console.log('there are some problems');\n        };\n    }\n\n    render() {\n        \n        return (\n            <main className=\"container  mt-5 pt-5 mb-5\" >\n               \n                <div className=\"row justify-content-center\">\n                    <div className=\"col-md-8\">\n                    \n                        <h1 className=\"mb-4\">Create Doc.</h1>\n                        <hr className=\"my-4\"/>\n                        <form onSubmit={this.handleSubmit}>\n                            <div className=\"form-group row\">\n                                <label  className=\"col-sm-3 col-form-label\">Type of App</label>\n                                <div className=\"col-sm-9\">\n                                    <select name=\"type\" ref=\"type\"  onChange={this.handleInputChange}  value={this.state.type}   className=\"form-control\" >\n                                        <option value=\"website\">Website App</option>\n                                        <option value=\"mobile\">Mobile App</option>\n                                        <option value=\"dekstop\">Dekstop App</option>\n                                        <option value=\"programming\">Programming</option>\n                                        <option value=\"other\">Other</option>\n                                    </select>\n                                </div>\n                            </div>\n                            <div className=\"form-group row\">\n                                <label  className=\"col-sm-3 col-form-label\">Name of App</label>\n                                <div className=\"col-sm-9\">\n                                <input type=\"text\" name=\"name\" ref=\"name\" onChange={this.handleInputChange}  value={this.state.name} className=\"form-control\" id=\"\" placeholder=\"Title for Documentation\" />\n                                </div>\n                            </div>\n                            \n                            <div className=\"form-group row\">\n                                <label  className=\"col-sm-3 col-form-label\">Logo</label>\n                                <div className=\"col-sm-9\">\n                                    <div className=\"input-group mb-3\">\n                                        <div className=\"input-group-prepend\">\n                                            <span className=\"input-group-text\" >Upload</span>\n                                        </div>\n                                        <div className=\"custom-file\">\n                                            <input type=\"file\" name=\"logo\" onChange={this.handleUploadLogo}  className=\"custom-file-input\"  />\n                                            <label className=\"custom-file-label\">Choose file</label>\n                                        </div>\n                                    </div>\n                                    <div id=\"imagepreview\" ref=\"imagepreview\"></div>\n                                </div>\n                            </div>\n                            <div className=\"form-group row\">\n                                <label  className=\"col-sm-3 col-form-label\">Description</label>\n                                <div className=\"col-sm-9\">\n                                    <textarea name=\"description\"  ref=\"description\" onChange={this.handleInputChange} value={this.state.description} className=\"form-control\" id=\"\" placeholder=\"Descritption of application ...\"></textarea>\n                                </div>\n                            </div>\n                            <div className=\"form-group row\">\n                                <label  className=\"col-sm-3 col-form-label\">Site Url</label>\n                                <div className=\"col-sm-9\">\n                                <input type=\"text\" name=\"siteUrl\" ref=\"siteUrl\" onChange={this.handleInputChange} value={this.state.siteUrl} className=\"form-control\" id=\"\" placeholder=\"Http:// .....\"/>\n                                </div>\n                            </div>\n                            <div className=\"form-group row\">\n                                <div className=\"col-sm-3\"></div>\n                                <div className=\"col-sm-9\">\n                                    <button type=\"submit\" className=\"btn btn-primary btn-lg btn-block\">Save</button>\n                                {/*\n                                <Link to=\"/manage\" className=\"btn btn-primary\" >Mulai</Link>\n                                */}\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </main>\n        )\n    }\n}\n\nexport default Project;","/*\n * Tiniru Doc\n * Version 0.1, 2019\n * \n * @author - https://github.com/kangfauz\n * \n * @website - https://tiniru.com\n * \n */\nimport React, { Component } from 'react';\n\n\nclass Confirmation extends Component{\n\n\n    render() {\n        return (\n            <div className={(this.props.visible?'show':'false')+' modal in'} id=\"confirmModal\"  role=\"dialog\" aria-labelledby=\"confirmModalLabel\" aria-hidden=\"true\" style={this.props.visible ? { display: \"block\" }: { display: \"none\" }}>\n                <div className=\"modal-dialog\" role=\"document\">\n                    <div className=\"modal-content\">\n                    <div className=\"modal-header\">\n                        <h5 className=\"modal-title\" id=\"confirmModalLabel\">Confirmation!</h5>\n                        <button type=\"button\" onClick={this.props.modal} className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                        <span aria-hidden=\"true\">&times;</span>\n                        </button>\n                    </div>\n                    <div className=\"modal-body\">\n                        <p>{this.props.message}</p>\n                    </div>\n                    <div className=\"modal-footer\">\n                        <button type=\"button\" onClick={this.props.modal} className=\"btn btn-secondary\" data-dismiss=\"modal\">Cancel</button>\n                        <button type=\"button\" onClick={this.props.remove} className=\"btn btn-primary\">Continue</button>\n                    </div>\n                    </div>\n                </div>\n                </div>\n        )\n    }\n}\n\nexport default Confirmation;","/*\n * Tiniru Doc\n * Version 0.1, 2019\n * \n * @author - https://github.com/kangfauz\n * \n * @website - https://tiniru.com\n * \n */\n\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom'\n\nimport Confirmation from './Confirmation'\n\nimport {Config} from '../config.js'\n\nconst DB_name       = Config.DB_name;\nconst DB_version    = Config.DB_version;\nconst topicTable    = Config.topicTable;\nconst pageTable     = Config.pageTable;\nconst changeLogTable = Config.changeLogTable;\n\nclass TopicListItem extends Component{\n    \n    render() {\n        \n        const editUrl = this.props.topic==='__changelog__'?'changelog':'edit';\n        return(\n            <div key={this.props.slug} onDragOver={this.props.dragover} className=\"card rounded-0 mb-2 \">\n                <div draggable=\"true\"  onDragStart={this.props.dragstart} onDragEnd={this.props.dragend}  className=\"card-header py-1 px-3 cpointer\">\n                    <div  className=\"row\">\n                        <div className=\"col-md-9\">\n                            <div  className=\"\" >{this.props.title}</div>\n                        </div>\n                        <div className=\"col-md-3 text-right \">\n                            <Link to={editUrl+\"/\"+this.props.slug}  className=\"bbtn btn-sm btn-link py-0 px-1 \">Edit</Link>\n                            <button onClick={() => this.props.remove(this.props.slug, this.props.topic)} className=\"btn btn-sm btn-link py-0 px-1  text-danger\">Del.</button>\n                        </div>\n                    </div>\n                </div>\n                </div>\n        )\n    }\n}\n\nclass TopicList extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            isToggleOn  : false,\n            items       :this.props.items,\n            showChild : false,\n        };\n        this.handleToggle = this.handleToggle.bind(this);\n        this.onDragOver   = this.onDragOver.bind(this);\n        this.onDragStart  = this.onDragStart.bind(this);\n        this.onDragEnd    = this.onDragEnd.bind(this);\n        \n    }\n    componentWillReceiveProps(props) {\n        \n        var datalist = props.items.sort(function(a,b) {\n            return parseFloat(a.order) - parseFloat(b.order);\n        });\n        this.setState({\n          items:datalist\n        })\n    }\n    componentDidMount() {\n        \n        setTimeout(() => {\n            var datalist = this.state.items.sort(function(a,b) {\n                return parseFloat(a.order) - parseFloat(b.order);\n            });\n            this.setState({\n              showChild : true,\n              isToggleOn  : this.state.items.length>0?this.props.open:false,\n              items:datalist\n            })\n            \n          },1000);\n       \n          \n    }\n    componentDidUpdate(){\n        \n    }\n   \n    handleToggle()\n    {\n        //if(window.location.hash!==\"\")\n        //    window.location.hash = \"#\"+this.props.slug;\n\n        this.setState(state => ({\n            isToggleOn: !state.isToggleOn\n          }));\n    }\n\n    \n    onDragStart = (e, idx) => {\n        //console.log(idx);\n        this.draggedItem = this.state.items[idx];\n        e.dataTransfer.effectAllowed = \"move\";\n        e.dataTransfer.setData(\"text/html\", e.target.parentNode);\n        e.target.parentNode.className += \" border-dark text-white bg-secondary\";\n      };\n    \n    onDragOver = idx  => {\n        const draggedOverItem = this.state.items[idx];\n        // if the item is dragged over itself, ignore\n        if (this.draggedItem === draggedOverItem) {\n            return;\n        }\n\n        // filter out the currently dragged item\n        //let topicList = this.state.topicList.filter(item => item !== this.draggedItem);\n        let items = this.state.items.filter(item =>{\n            return item !== this.draggedItem;} );\n        // add the dragged item after the dragged over item\n        items.splice(idx, 0, this.draggedItem);\n        //console.log(topicList);\n\n        this.setState({ items }); \n    };\n\n    \n\n    onDragEnd = (e) => {\n        this.draggedItem = null;\n        e.target.parentNode.classList.remove(\"border-dark\");\n        e.target.parentNode.classList.remove(\"text-white\");\n        e.target.parentNode.classList.remove(\"bg-secondary\");\n        \n        var request = window.indexedDB.open(DB_name, DB_version);\n        var db;\n        var ini = this;\n        request.onsuccess = function (event) {\n            db = event.target.result;\n            ini.state.items.map((n, idx) => {\n                var dataIns = { \n                    topic           : n.topic,\n                    slug            : n.slug,\n                    title           : n.title,\n                    content         : n.content,\n                    meta_keywords   : n.meta_keywords,\n                    meta_description: n.meta_description,\n                    publish         : n.publish,\n                    order           : idx,\n                    project         :n.project,\n                 };\n\n                var transaction = db.transaction([pageTable], \"readwrite\");\n                var objectStore = transaction.objectStore(pageTable);\n                console.log(dataIns);\n                var objectStoreRequest = objectStore.put(dataIns);\n                objectStoreRequest.onsuccess = function (event) {\n                };\n                return true;\n            });\n        }\n        \n    };\n    \n    render() {\n       \n       const listItem = this.state.items.map((n,idx) =>{return(\n            <TopicListItem key={n.slug} title={n.title} idx={idx} topic={n.topic} slug={n.slug}\n            dragstart={e => this.onDragStart(e, idx)}\n            dragover={e => this.onDragOver(idx)}\n            dragend={e => this.onDragEnd(e)}\n            remove={this.props.remove} />\n        )});\n        return(\n            <div  className=\"card rounded-0 mb-2\">\n                <div className=\"card-header py-2\">\n                    <div className=\"row\">\n                        <div onClick={this.handleToggle}  className=\"col-md-9 cpointer\">\n                            <div className=\"font-weight-bold\" >{this.props.title}</div>\n                        </div>\n                        <div className=\"col-md-3 text-right\">\n                            <Link to={\"write/\"+this.props.slug}  className=\"btn btn-sm btn-success py-0  \">+ Page</Link>\n                        </div>\n                    </div>\n                </div>\n                \n                <div className={this.state.isToggleOn ? 'card-body d-block' : 'card-body d-none'} >\n                    <div >\n                    {listItem}\n                    </div>\n                    <div>\n                        <Link to={\"write/\"+this.props.slug} className=\"btn btn-success btn-sm \">+ Add Page</Link>\n                        \n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\n\n\nclass Manage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            type        : 'website',\n            name        : '',\n            logo        : '',\n            description : '',\n            siteUrl     : '',\n            topicFormShow: false,\n            topicList : [],\n            changelogList : [],\n            modalVisible: false,\n            slugDeletePage : \"\",\n            slugDeleteTopic : \"\",\n            slugDeleteLog : \"\",\n            showChild : false\n          };\n        this.toggleFormTopic = this.toggleFormTopic.bind(this);\n        this.handleLoad = this.handleLoad.bind(this);\n        this.removePage        = this.removePage.bind(this); \n        this.openModal          = this.openModal.bind(this);  \n        this.handleRemovePage  = this.handleRemovePage.bind(this); \n        \n        this.handleLoad();\n    }\n\n    componentDidMount() {\n        document.getElementById('topnav').style.display = 'flex';\n        window.scrollTo(0,0);\n    }\n\n    handleLoad()\n    {\n        var request = window.indexedDB.open(DB_name, DB_version);\n        var db;\n        var ini = this\n        request.onsuccess = function(event) {\n            //console.log('[onsuccess]', request.result);\n            db = event.target.result; // === request.result\n            var transaction = db.transaction([\"project\"]);\n            var objectStore = transaction.objectStore(\"project\");\n            var request = objectStore.get(localStorage.getItem('myProject'));\n            //console.log(request);\n            \n            request.onsuccess = function (event) {\n                var dt = request.result;\n                //console.log(request.result);\n                \n                ini.setState( {\n                    type        : dt.type,\n                    name        : dt.name,\n                    logo        : dt.logo,\n                    description : dt.description,\n                    siteUrl     : dt.siteUrl\n                  });\n\n                if(dt.logo.length>0){\n                    var img = '<img src=\"'+dt.logo+'\" style=\"max-width:54px;\" class=\"img-fluid rounded-circle\">';\n                    ini.refs.imagepreview.innerHTML=img;\n                }\n            };\n\n            \n            var transactionTopic = db.transaction([topicTable], \"readonly\");\n            var objectStoreTopic = transactionTopic.objectStore(topicTable);\n            var objectStoreRequest = objectStoreTopic.getAll();\n            \n            objectStoreRequest.onsuccess = function (event) {\n                var dt = objectStoreRequest.result;\n                //console.log(dt);\n                var dtlist = []\n                \n                dt.map(function (n){\n                    //console.log(n.slug);\n                    var transactionPage = db.transaction([pageTable], \"readonly\");\n                    var objectStorePage = transactionPage.objectStore(pageTable);\n                    var vendorIndex = objectStorePage.index('topic');\n                    var keyRng = IDBKeyRange.only(n.slug);\n                    //var keyRangeValue = IDBKeyRange.only(2019);\n                    var cursorRequest = vendorIndex.openCursor(keyRng);\n                    var pages = [];\n                    cursorRequest.onsuccess = e => {\n                        var cursor = e.target.result;\n                        \n                        if (cursor) {\n                            //console.log(\"cursor\");\n                            //console.log(cursor.value);\n                            pages.push({slug:cursor.value.slug, title:cursor.value.title, topic:cursor.value.topic, order:cursor.value.order});\n                            cursor.continue();\n                        }\n                    }\n                    \n                    \n                    dtlist.push({\n                        slug:n.slug, \n                        name:n.name, \n                        order:n.order, \n                        pages:pages\n                    })\n\n                    return true;\n                });\n                \n                var datalist = dtlist.sort(function(a,b) {\n                    return parseFloat(a.order) - parseFloat(b.order);\n                });\n                ini.setState({ topicList: datalist })\n                ini.forceUpdate()\n            };\n\n            objectStoreRequest.onerror = function (event) {\n                console.log('[onerror]', objectStoreRequest.error);\n            }\n            \n            var transactionLog = db.transaction([changeLogTable], \"readonly\");\n            var objectStoreLog = transactionLog.objectStore(changeLogTable);\n            var objectStoreRequestLog = objectStoreLog.getAll();\n            objectStoreRequestLog.onsuccess = e => {\n                var dt = objectStoreRequestLog.result;\n                //console.log(dt);\n                var dtlog = []\n                dt.map(function (n){\n                    dtlog.push({\n                        slug:n.slug, \n                        title:n.title, \n                        order:n.order, \n                    })\n                    return true;\n                });\n\n                ini.setState({ changelogList: dtlog })\n            }\n        };\n        \n        request.onerror = function(event) {\n            console.log('[onerror]', request.error);\n        };\n    }\n\n    toggleFormTopic(){\n        this.setState(state => ({\n            topicFormShow: !state.topicFormShow\n        }));\n    }\n\n    openModal() {\n        //console.log(\"Open modal called \", this.state.modalVisible);\n        const modalVisible = !this.state.modalVisible;\n        this.setState({\n          modalVisible\n        });\n    }\n\n    removePage(slug, topic)\n    {\n        //alert(slug);\n        //console.log(slug+' '+topic)\n        this.setState({slugDeletePage:slug, slugDeleteTopic:topic});\n        this.openModal();\n    }\n\n    handleRemovePage()\n    {\n        \n        var request = window.indexedDB.open(DB_name, DB_version);\n        var db;\n        var ini = this;\n\n        request.onsuccess = function (event) {\n            db = event.target.result;\n\n            if(ini.state.slugDeleteTopic===\"__changelog__\")\n            {\n                var requestLog = db.transaction([changeLogTable], \"readwrite\")\n                .objectStore(changeLogTable)\n                .delete(ini.state.slugDeletePage);\n                \n                requestLog.onsuccess = function(event) {\n                    ini.openModal();\n                    ini.handleLoad();\n                    setTimeout(() => {\n                        ini.setState(state => ({\n                            showChild: !state.showChild\n                          }));\n                        \n                      },1000);\n                }\n            }else{\n                var requestPage = db.transaction([pageTable], \"readwrite\")\n                .objectStore(pageTable)\n                .delete(ini.state.slugDeletePage);\n                \n                requestPage.onsuccess = function(event) {\n                    \n                    ini.openModal();\n                    ini.handleLoad();\n\n                    var transaction = db.transaction([pageTable], \"readonly\");\n                    var objectStore = transaction.objectStore(pageTable);\n                    var vendorIndex = objectStore.index('topic');\n                    var keyRng = IDBKeyRange.only(ini.state.slugDeleteTopic);\n                    //var keyRangeValue = IDBKeyRange.only(2019);\n                    var cursorRequest = vendorIndex.openCursor(keyRng);\n                    var pages = [];\n                    cursorRequest.onsuccess = e => {\n                        var cursor = e.target.result;\n                        \n                        if (cursor) {\n                            //console.log(\"cursor\");\n                            //console.log(cursor.value);\n                            pages.push({slug:cursor.value.slug, title:cursor.value.title});\n                            cursor.continue();\n                        }\n                    }\n                    \n                    ini.setState(prevState => ({\n                        topicList: prevState.topicList.map(\n                        obj => {\n                            if(obj.slug === ini.state.slugDeleteTopic){\n                                return {\n                                            slug:obj.slug, \n                                            name:obj.name, \n                                            order:obj.order, \n                                            pages:pages\n                                        };\n                            }else{\n                                return obj;\n                            }\n                        }\n                      )\n                    }));\n\n                    setTimeout(() => {\n                        ini.setState(state => ({\n                            showChild: !state.showChild\n                          }));\n                        \n                      },1000);\n                    \n                };\n\n            }\n            \n                \n        }\n    \n    }\n\n   \n    \n    onDragStartLog = (e, idx) => {\n        //console.log(idx);\n        this.draggedItem = this.state.changelogList[idx];\n        e.dataTransfer.effectAllowed = \"move\";\n        e.dataTransfer.setData(\"text/html\", e.target.parentNode);\n        e.target.parentNode.className += \" border-dark text-white bg-secondary\";\n      };\n    \n    onDragOverLog = idx  => {\n        const draggedOverItem = this.state.changelogList[idx];\n        // if the item is dragged over itself, ignore\n        if (this.draggedItem === draggedOverItem) {\n            return;\n        }\n\n        // filter out the currently dragged item\n        //let topicList = this.state.topicList.filter(item => item !== this.draggedItem);\n        let changelogList = this.state.changelogList.filter(item =>{\n            return item !== this.draggedItem;} );\n        // add the dragged item after the dragged over item\n        changelogList.splice(idx, 0, this.draggedItem);\n        //console.log(topicList);\n\n        this.setState({ changelogList }); \n    };\n\n    \n\n    onDragEndLog = (e) => {\n        this.draggedItem = null;\n        e.target.parentNode.classList.remove(\"border-dark\");\n        e.target.parentNode.classList.remove(\"text-white\");\n        e.target.parentNode.classList.remove(\"bg-secondary\");\n        \n        var request = window.indexedDB.open(DB_name, DB_version);\n        var db;\n        var ini = this;\n        request.onsuccess = function (event) {\n            db = event.target.result;\n            ini.state.changelogList.map((n, idx) => {\n                var dataIns = { \n                    slug            : n.slug,\n                    title           : n.title,\n                    content         : n.content,\n                    datelog         : n.datelog,\n                    publish         : n.publish,\n                    order           : idx,\n                    project         :n.project,\n                 };\n\n                var transaction = db.transaction([changeLogTable], \"readwrite\");\n                var objectStore = transaction.objectStore(changeLogTable);\n                //console.log(dataIns);\n                var objectStoreRequest = objectStore.put(dataIns);\n                objectStoreRequest.onsuccess = function (event) {\n                };\n                return true;     \n            });\n        }\n        \n    };\n\n    render() {\n        \n        const hash = this.props.location.hash;\n        const listItems = this.state.topicList.map((n) => {\n            return (<TopicList key={n.slug} title={n.name} open={hash==='#'+n.slug?true:false} slug={n.slug} items={n.pages}\n            remove={this.removePage.bind(this)} />)\n        });\n        //console.log(this.state.changelogList)\n        const listItemLogs = this.state.changelogList.map((n,idx) => {\n            return (<TopicListItem key={n.slug} title={n.title} idx={idx} topic=\"__changelog__\" slug={n.slug}\n                dragstart={e => this.onDragStartLog(e, idx)}\n                dragover={e => this.onDragOverLog(idx)}\n                dragend={e => this.onDragEndLog(e)}\n                remove={this.removePage.bind(this)} />)\n        });\n    return (\n        <main className=\"container  mt-5 pt-5 mb-5\" >\n            <div className=\"row\">\n            \n                <div className=\"col-md-3\">\n                \n                    <div className=\"card\">\n                        <div className=\"card-body\">\n                          <div className=\"row mb-3\">\n                            <div className=\"col-md-3 \"><div id=\"imagepreview\" ref=\"imagepreview\"></div></div>\n                            <div className=\"col-md-9\">\n                                <div className=\"card-title h4\">{this.state.name}</div>\n                                <div className=\"card-subtitle mb-2\"><a href={this.state.siteUrl} className=\"link  text-muted\">{this.state.siteUrl}</a></div>\n                            </div>\n                          </div>\n                          \n                          <p className=\"card-text\">{this.state.description}</p>\n                          <footer className=\"blockquote-footer\">\n                          {this.state.type}\n                          <Link to=\"/project?_edit=true\" className=\"btn btn-sm btn-link\"  >Edit</Link>\n                          </footer>\n                        </div>\n                    </div>\n                    \n                    <div className=\"mt-5\">\n                        {/*<div className=\"m-3 text-center d-none\">Doc. Last Version <span className=\"badge badge-secondary\">4.3.1</span></div>\n                        <div className=\"m-3  d-none\"><button className=\"btn btn-warning btn-block\">Copy as New Version</button></div>*/}\n                        <div className=\"m-3\"><Link to=\"/generate/html\" className=\"btn btn-primary btn-block\"  >Generate as HTML</Link></div>\n                        <div className=\"m-3\"><Link to=\"/generate/html\" className=\"btn btn-primary btn-block\"  >Generate as PDF</Link></div>\n                    </div>\n                    \n    \n                </div>\n                \n                <div className=\"col-md-9\">\n                    <div className=\"\">\n                        <div className=\"pb-3\">\n                            <div className=\"row mb-3\">\n                                <div className=\"col-md-8\"><h1 className=\"\">Topics</h1></div>\n                                <div className=\"col-md-4 text-right position-relative \">\n                                    <Link to=\"/topic\" style={{bottom:'5px', right:'15px'}} className=\"btn btn-sm radius-0 btn-dark align-baseline position-absolute\" >Set Topics</Link>\n                                </div>\n                            </div>\n                           \n                            {listItems}\n                            \n                        </div>\n                        <hr className=\"my-3\"/>\n                        <div className=\"mt-3\">\n                            <div className=\"row mb-3\">\n                                <div className=\"col-md-8\"> <h4>Change Log</h4></div>\n                                <div className=\"col-md-4 text-right position-relative \">\n                                    <Link to=\"/changelog\" style={{bottom:'5px', right:'15px'}} className=\"btn btn-sm radius-0 btn-dark align-baseline position-absolute\" >Add Change Log</Link>\n                                </div>\n                            </div>\n                            <div>{listItemLogs}</div>\n                        </div>\n                        \n                    </div>\n                </div>\n                \n                \n            </div>\n\n            <Confirmation\n                    visible={this.state.modalVisible}\n                    modal ={e => this.openModal()}\n                    remove ={e => this.handleRemovePage()}\n                    message=\"Deleted pages cannot be restored. Are you sure to remove this page?\"\n                 />\n\n            \n\n        </main>\n      );\n  }\n}\n\nexport default Manage;","/*\n * Tiniru Doc\n * Version 0.1, 2019\n * \n * @website - https://tiniru.com\n * \n */\nimport { Config } from '../config.js'\n\nconst DB_name = Config.DB_name;\nconst DB_version = Config.DB_version;\n\n\nexport function getRecord(table, indexKey, callback) {\n    var request = window.indexedDB.open(DB_name, DB_version);\n    var db;\n    request.onsuccess = function (event) {\n        db = event.target.result;\n        //console.log(db);\n        var transaction = db.transaction([table], \"readonly\");\n        var objectStore = transaction.objectStore(table);\n        var objectStoreRequest = objectStore.get(indexKey);;\n        objectStoreRequest.onsuccess = function (event) {\n            var record = objectStoreRequest.result;\n            if (callback) //you'll need a calback function to return to your code\n                callback(record);\n        };\n        transaction.oncomplete = function (event) {\n            db.close();\n            \n        };\n    };\n\n}\n\nexport function getListRecord(table,  callback) {\n    var request = window.indexedDB.open(DB_name, DB_version);\n    var db;\n    request.onsuccess = function (event) {\n        db = event.target.result;           \n        //console.log(db);\n        var transaction = db.transaction([table], \"readonly\");\n        var objectStore = transaction.objectStore(table);\n        var objectStoreRequest = objectStore.getAll();\n        objectStoreRequest.onsuccess = function (event) {\n            var record = objectStoreRequest.result;\n            if (callback) //you'll need a calback function to return to your code\n                callback(record);\n        };\n        transaction.oncomplete = function (event) {\n            db.close();\n            \n        };\n    };\n\n}\n\n\nexport function getLastRecord(table, colIndex, callback) {\n    var request = window.indexedDB.open(DB_name, DB_version);\n    var db;\n    var lastRecord = null;\n    request.onsuccess = function (event) {\n        db = event.target.result;\n        //console.log(db);\n        var transaction = db.transaction([table], \"readonly\");\n        var objectStore = transaction.objectStore(table);\n        var index = objectStore.index(colIndex);\n        var openCursorRequest = index.openCursor(null, 'prev');\n        openCursorRequest.onsuccess = function (event) {\n            if (event.target.result) {\n                lastRecord = event.target.result.value; //the object with max revision\n            }\n\n        };\n        transaction.oncomplete = function (event) {\n            db.close();\n            if (callback) //you'll need a calback function to return to your code\n                callback(lastRecord);\n        };\n    };\n\n}","\n/*\n * Tiniru Doc\n * Version 0.1, 2019\n * \n * @website - https://tiniru.com\n * \n */\n\nexport function toUrl(url) {\n    return encodeURI(url.replace(/ /g, '-').replace(/[^\\w.-]+/g,'').toLowerCase());\n}\nexport function postData(url,data={}){\n    // Default options are marked with *\n      return fetch(url, {\n          method: \"POST\", // *GET, POST, PUT, DELETE, etc.\n          //mode: \"cors\", // no-cors, cors, *same-origin\n          //cache: \"no-cache\", // *default, no-cache, reload, force-cache, only-if-cached\n          //credentials: \"same-origin\", // include, *same-origin, omit\n          //headers: {\n          //    \"Content-Type\": \"application/json\",\n              // \"Content-Type\": \"application/x-www-form-urlencoded\",\n          //},\n          //redirect: \"follow\", // manual, *follow, error\n          referrer: \"no-referrer\", // no-referrer, *client\n          body: JSON.stringify(data), // body data type must match \"Content-Type\" header\n      })\n      .then(response => response.json()); // parses response to JSON\n  }\n\nexport function generateId() {\n    let now = new Date();\n    let timestamp = now.getFullYear().toString();\n    let month = now.getMonth() + 1;\n    timestamp += (month < 10 ? '0' : '') + month.toString();\n    timestamp += (now.getDate() < 10 ? '0' : '') + now.getDate().toString();\n    timestamp += (now.getHours() < 10 ? '0' : '') + now.getHours().toString();\n    timestamp += (now.getMinutes() < 10 ? '0' : '') + now.getMinutes().toString();\n    timestamp += (now.getSeconds() < 10 ? '0' : '') + now.getSeconds().toString();\n    timestamp += (now.getMilliseconds() < 100 ? '0' : '') + now.getMilliseconds().toString();\n    return timestamp;\n}\n","export const topicTemplate = [\n    {\n        name: \"Getting Started\",\n        slug: \"getting-started\",\n        pages: [\n            { slug: 'gs-introduction', title: 'Introduction' },\n            { slug: 'gs-installation', title: 'Installation' },\n        ]\n    },\n    {\n        name: \"Basic\",\n        slug: \"Basic\",\n        pages: [\n        ]\n    },\n    {\n        name: \"Reference\",\n        slug: \"reference\",\n        pages: [\n        ]\n    }\n];\n\n","/*\n * Tiniru Doc\n * Version 0.1, 2019\n * \n * @author - https://github.com/kangfauz\n * \n * @website - https://tiniru.com\n * \n */\n\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom'\n\nimport Confirmation from './Confirmation'\n\nimport { getLastRecord } from '../helpers/Query.js'\nimport { toUrl} from '../helpers/Helpers.js'\n\n\nimport { Config } from '../config.js'\nimport { topicTemplate } from '../topicdata.js'\n\nconst DB_name = Config.DB_name;\nconst DB_version = Config.DB_version;\nconst topicTable = Config.topicTable;\nconst pageTable = Config.pageTable;\n\n\n\n\nclass TopicList extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { \n                isToggleOn: false,\n                isEdit    : false,\n                name : this.props.title,\n                slug : this.props.slug,\n                items       :this.props.items,\n                showChild : false,\n                \n             };\n        this.handleToggle = this.handleToggle.bind(this);\n        this.showEdit = this.showEdit.bind(this);\n        this.handleUpdateTopic = this.handleUpdateTopic.bind(this);   \n        this.handleInputChange = this.handleInputChange.bind(this);  \n    }\n    componentWillReceiveProps(props) {\n        \n        var datalist = props.items.sort(function(a,b) {\n            return parseFloat(a.order) - parseFloat(b.order);\n        });\n        this.setState({\n          items:datalist\n        })\n    }\n    \n    handleToggle() {\n        this.setState(state => ({\n            isToggleOn: !state.isToggleOn\n        }));\n    }\n\n    showEdit() {\n        this.setState(state => ({\n            isEdit: !state.isEdit\n        }));\n    }\n\n    handleInputChange(event)\n    {\n        const target    = event.target;\n        const value     = target.value;\n        const name      = target.name;\n\n        this.setState({\n            [name]: value\n        });\n        console.log(this.state.name);\n    }\n\n    handleUpdateTopic()\n    {\n       \n        \n\n        var request = window.indexedDB.open(DB_name, DB_version);\n        var db;\n        var ini = this;\n        var dataIns = {\n                name: ini.state.name,\n                project: localStorage.getItem('myProject'),\n                slug: toUrl(ini.state.slug)\n            }\n\n        request.onsuccess = function (event) {\n            //console.log('[onsuccess]', request.result);\n            db = event.target.result; // === request.result\n\n            //console.log(db);\n            var transaction = db.transaction([topicTable], \"readwrite\");\n            var objectStore = transaction.objectStore(topicTable);\n            //console.log(dataIns);\n            var objectStoreRequest = objectStore.put(dataIns);\n\n            objectStoreRequest.onsuccess = function (event) {\n                console.log('The data has been written successfully');\n                ini.showEdit();\n            };\n\n            transaction.oncomplete = function (event) {\n                //console.log('oncomplete');\n                db.close();\n            };\n\n            objectStoreRequest.onerror = function (event) {\n                console.log('The data has been written failed');\n            }\n\n        };\n\n        request.onerror = function (event) {\n            console.log('[onerror]', request.error);\n        };\n        \n    }\n\n    \n    render() {\n        //const totalItem = this.props.items.length;\n        const listItem = this.state.items.map((n) =>\n            <li key={n.slug} className=\"\">{n.title}</li>\n        );\n        return (\n            <div id={'tpc-'+this.props.slug} \n                \n                \n                onDragOver={this.props.dragover}\n                                 \n                className=\"card rounded-0 mb-2 \">\n                <div  draggable={this.props.add === 'true' ? 'false' : 'true'}  onDragStart={this.props.dragstart} onDragEnd={this.props.dragend}   className=\"card-header py-1 px-3\">\n                    <div  className=\"row\">\n                        <div onClick={this.handleToggle} className={(this.state.isEdit ? 'd-none' : 'd-block')+' col-md-9 '}>\n                            <div  className={this.props.add === 'true' ? 'cpointer' : 'font-weight-bold cpointer'} >\n                                <span>{this.state.name}</span>\n                                \n                            </div>\n                        </div>\n                        {\n                            this.props.add === 'false' ?\n                            <div  className={(this.state.isEdit ? 'd-block' : 'd-none')+' col-md-9 foredit'}>\n                                <input type=\"text\" name=\"name\" onChange={this.handleInputChange}className=\"form-control form-control form-control-sm\" value={this.state.name}  />\n                            </div>\n                            :'' \n                        } \n                        <div className=\"col-md-3 text-right \">\n                            {this.props.add === 'true' ?\n                            <button onClick={this.props.register} className=\"btn btn-sm btn-secondary py-0  \">Tambahkan</button>:\n                            <div >\n                                <div className={(this.state.isEdit ? 'd-none' : 'd-block')}>\n                                    <button onClick={this.showEdit} className=\"btn btn-sm btn-link py-0 px-1 \">Edit</button>\n                                    <button onClick={this.props.remove} className=\"btn btn-sm btn-link py-0 px-1  text-danger\">Del.</button>\n                                </div>\n                                {\n                                    this.props.add === 'false' ?\n                                    <div className={(this.state.isEdit ? 'd-block' : 'd-none')+' foredit'}>\n                                        <button onClick={this.handleUpdateTopic} className=\"btn btn-sm btn-secondary  \">Save</button>\n                                    </div>\n                                    :'' \n                                } \n                            </div>\n                            }\n                        </div>\n                    </div>\n                    \n                </div>\n                <div className={this.state.isToggleOn ? 'card-body d-block' : 'card-body d-none'} >\n                      \n                    <ul>\n                        {listItem}\n                    </ul>\n                </div>\n            </div>\n        )\n    }\n}\n\n\n\nclass Topic extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name            : \"\",\n            topicList       : [],\n            modalVisible    : false,\n            slugDeleteTopic : \"\",\n            showChild       : false,\n            topicTemplate:[],\n        };\n        this.handleLoad         = this.handleLoad.bind(this);\n        this.handleSubmit       = this.handleSubmit.bind(this);\n        this.handleInputChange  = this.handleInputChange.bind(this);\n        this.removeTopic        = this.removeTopic.bind(this); \n        this.openModal          = this.openModal.bind(this);  \n        this.handleRemoveTopic  = this.handleRemoveTopic.bind(this);\n        \n    }\n    componentDidMount() {\n        window.scrollTo(0,0);\n        /*\n        fetch(\"data/topics.json\",{\n            headers : { \n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n               },\n            mode: \"no-cors\", \n        })\n        .then(response => response.json())\n        .then(data => {\n            this.setState({topicTemplate:data})\n        });\n        */\n        this.setState({topicTemplate:topicTemplate})\n        this.handleLoad();\n    }\n    handleLoad() {\n\n        var request = window.indexedDB.open(DB_name, DB_version);\n        var db;\n        var ini = this;\n        request.onsuccess = function (event) {\n            db = event.target.result;\n\n            var transaction = db.transaction([topicTable], \"readonly\");\n            var objectStore = transaction.objectStore(topicTable);\n            var objectStoreRequest = objectStore.getAll();\n\n            objectStoreRequest.onsuccess = function (event) {\n                var dt = objectStoreRequest.result;\n                //console.log(dt);\n                var dtlist = []\n\n                dt.map(function (n) {\n                    //console.log(n.slug);\n                    var transaction = db.transaction([pageTable], \"readonly\");\n                    var objectStore = transaction.objectStore(pageTable);\n                    var vendorIndex = objectStore.index('topic');\n                    var keyRng = IDBKeyRange.only(n.slug);\n                    //var keyRangeValue = IDBKeyRange.only(2019);\n                    var cursorRequest = vendorIndex.openCursor(keyRng);\n                    var pages = [];\n                    cursorRequest.onsuccess = e => {\n                        var cursor = e.target.result;\n\n                        if (cursor) {\n                            //console.log(\"cursor\");\n                            //console.log(cursor.value);\n                            pages.push({ slug: cursor.value.slug, title: cursor.value.title });\n                            cursor.continue();\n                        }\n\n                       \n                    }\n\n\n                    dtlist.push({\n                        slug: n.slug,\n                        name: n.name,\n                        order: n.order,\n                        pages: pages\n                    })\n                    //return dtlist;\n                    return true;\n                });\n                var datalist = dtlist.sort(function(a,b) {\n                    return parseFloat(a.order) - parseFloat(b.order);\n                });\n                ini.setState({ topicList: datalist })\n            };\n\n            objectStoreRequest.onerror = function (event) {\n                console.log('[onerror]', objectStoreRequest.error);\n            }\n\n        };\n\n        request.onerror = function (event) {\n            console.log('[onerror]', request.error);\n        };\n    }\n\n    handleInputChange(event) {\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n\n        this.setState({\n            [name]: value\n        });\n    }\n\n    handleSubmit(e) {\n        e.preventDefault();\n        var ini = this;\n        getLastRecord(topicTable, 'slug', function (data) {\n\n            var dataIns = {\n                name: ini.state.name,\n                project: localStorage.getItem('myProject'),\n                slug: toUrl(ini.state.name)\n            };\n            if (data !== null) {\n                dataIns[\"order\"] = data.order + 1;\n            } else {\n                dataIns[\"order\"] = 0;\n            }\n            ini.addTopic(dataIns);\n\n        });\n\n    }\n    addTopic(dataIns, callback) {\n        var request = window.indexedDB.open(DB_name, DB_version);\n        var db;\n        var ini = this;\n\n        request.onsuccess = function (event) {\n            //console.log('[onsuccess]', request.result);\n            db = event.target.result; // === request.result\n\n            //console.log(db);\n            var transaction = db.transaction([topicTable], \"readwrite\");\n            var objectStore = transaction.objectStore(topicTable);\n            //console.log(dataIns);\n            var objectStoreRequest = objectStore.add(dataIns);\n\n\n            objectStoreRequest.onsuccess = function (event) {\n                console.log('The data has been written successfully');\n                ini.setState({ name: \"\" });\n                ini.handleLoad();\n                //ini.setState({topicList:ini.state.topicList.concat([6])})\n            };\n\n            transaction.oncomplete = function (event) {\n                //console.log('oncomplete');\n                db.close();\n                if (callback) //you'll need a calback function to return to your code\n                    callback();\n            };\n\n            objectStoreRequest.onerror = function (event) {\n                console.log('The data has been written failed');\n            }\n\n        };\n\n        request.onerror = function (event) {\n            console.log('[onerror]', request.error);\n        };\n    }\n\n    _regiserTopic(ini, topicTable, dataRow)\n    {\n        getLastRecord(topicTable, 'slug', function (data) {\n                     \n            var dataIns = { name: dataRow.name, project: localStorage.getItem('myProject'), slug: dataRow.slug };\n            if (data !== null) {\n                dataIns[\"order\"] = parseInt(data.order) + 1;\n            } else {\n                dataIns[\"order\"] = 0;\n            }\n\n            var dataPage = dataRow.pages;\n\n            ini.addTopic(dataIns, function () {\n                var requestPage = window.indexedDB.open(DB_name, DB_version);\n                var dbPage;\n\n                requestPage.onsuccess = function (event) {\n                    dbPage = event.target.result; // === request.result\n                    var transaction = dbPage.transaction([pageTable], \"readwrite\");\n                    var objectStore = transaction.objectStore(pageTable);\n                    for (var x = 0; x < dataPage.length; x++) \n                    {\n                        var dtp = dataPage[x];\n                        var pageIns = {\n                            topic: dataRow.slug,\n                            slug: dtp.slug,\n                            title: dtp.title,\n                            content: '',\n                            meta_keywords: '',\n                            meta_description: '',\n                            publish: 1,\n                            order: 0,\n                            project: localStorage.getItem('myProject'),\n                        }\n                        //console.log(pageIns);\n                        objectStore.add(pageIns);\n                    }\n                    ini.handleLoad();\n                    \n                }\n\n\n            });\n\n            return true;\n\n        });\n    }\n\n    registerTopic(slug) {\n        \n        var ini = this;\n        for (var i = 0; i < this.state.topicTemplate.length; i++) {\n             /* jshint loopfunc: true */\n            if (this.state.topicTemplate[i].slug === slug) {\n                var dataRow = this.state.topicTemplate[i];\n                \n                this._regiserTopic(ini, topicTable, dataRow);\n            }\n        }\n\n    }\n    openModal() {\n        console.log(\"Open modal called \", this.state.modalVisible);\n        const modalVisible = !this.state.modalVisible;\n        this.setState({\n          modalVisible\n        });\n    }\n\n    removeTopic(slug)\n    {\n        //alert(slug);\n        this.setState({slugDeleteTopic:slug});\n        this.openModal();\n    }\n\n    handleRemoveTopic()\n    {\n        \n        var request = window.indexedDB.open(DB_name, DB_version);\n        var db;\n        var ini = this;\n        \n        request.onsuccess = function (event) {\n            db = event.target.result;\n            var request = db.transaction([topicTable], \"readwrite\")\n                .objectStore(topicTable)\n                .delete(ini.state.slugDeleteTopic);\n                \n                request.onsuccess = function(event) {\n                    \n                    var transaction = db.transaction([pageTable], \"readwrite\");\n                    var objectStore = transaction.objectStore(pageTable);\n                    var vendorIndex = objectStore.index('topic');\n                    var keyRng = IDBKeyRange.only(ini.state.slugDeleteTopic);\n                    var cursorRequest = vendorIndex.openCursor(keyRng);\n                    cursorRequest.onsuccess = e => {\n                        var cursor = e.target.result;\n\n                        if (cursor) {\n                            cursor.delete();\n                            cursor.continue();\n                        }\n                        \n                    }\n                    ini.openModal();\n                    ini.handleLoad();\n                    /*\n                    var request = db.transaction([pageTable], \"readwrite\")\n                        .objectStore(pageTable)\n                        .delete(ini.state.slugDeleteTopic);\n                        \n                        request.onsuccess = function(event) {\n                            ini.openModal();\n                            ini.handleLoad();\n                        };\n                    */\n                   \n                };\n                \n        }\n    }\n    \n\n    onDragStart = (e, idx) => {\n        //console.log(idx);\n        this.draggedItem = this.state.topicList[idx];\n        e.dataTransfer.effectAllowed = \"move\";\n        e.dataTransfer.setData(\"text/html\", e.target.parentNode);\n        //e.dataTransfer.setDragImage(e.target.parentNode, 20, 20);\n        //console.log(this.draggedItem);\n        e.target.parentNode.className += \" border-dark text-white bg-secondary\";\n      };\n    \n    onDragOver = idx  => {\n        const draggedOverItem = this.state.topicList[idx];\n        // if the item is dragged over itself, ignore\n        if (this.draggedItem === draggedOverItem) {\n            return;\n        }\n        //console.log(this.draggedItem);\n        //console.log(draggedOverItem);\n        // filter out the currently dragged item\n        //let topicList = this.state.topicList.filter(item => item !== this.draggedItem);\n        let topicList = this.state.topicList.filter(item =>{\n            //console.log(item.slug);\n            //console.log(this.draggedItem.slug);\n            //console.log(\"--------------------------\");\n            return item !== this.draggedItem;} );\n        // add the dragged item after the dragged over item\n        topicList.splice(idx, 0, this.draggedItem);\n        //console.log(topicList);\n\n        this.setState({ topicList }); \n    };\n\n    \n\n    onDragEnd = (e) => {\n        this.draggedItem = null;\n\n        e.target.parentNode.classList.remove(\"border-dark\");\n        e.target.parentNode.classList.remove(\"text-white\");\n        e.target.parentNode.classList.remove(\"bg-secondary\");\n\n        var request = window.indexedDB.open(DB_name, DB_version);\n        var db;\n        var ini = this;\n        request.onsuccess = function (event) {\n            db = event.target.result;\n            ini.state.topicList.map((n, idx) => {\n                var dataIns = { \n                        name        : n.name, \n                        project     : n.project, \n                        slug        : n.slug,\n                        order       : idx\n                    };\n\n                var transaction = db.transaction([topicTable], \"readwrite\");\n                var objectStore = transaction.objectStore(topicTable);\n                //console.log(dataIns);\n                var objectStoreRequest = objectStore.put(dataIns);\n                objectStoreRequest.onsuccess = function (event) {\n                };\n\n                return dataIns;\n                    \n            });\n        }\n    };\n\n    render() {\n\n        const listItems = this.state.topicList.map((n, idx) =>\n            <TopicList key={n.slug} slug={n.slug} title={n.name} add=\"false\"  items={n.pages}\n                remove={this.removeTopic.bind(this, n.slug)}\n                dragstart={e => this.onDragStart(e, idx)}\n                dragover={e => this.onDragOver(idx)}\n                dragend={e => this.onDragEnd(e)}\n             />\n        );\n        const listTemplates = this.state.topicTemplate.map((n) =>\n            <TopicList key={n.slug}  slug={n.slug} title={n.name} register={this.registerTopic.bind(this, n.slug)} add=\"true\" items={n.pages} />\n        );\n\n        return (\n            <main className=\"container mt-5 pt-5 mb-5\" >\n                <h2 className=\"mb-3\">Set Topic</h2>\n\n                <Link to=\"/manage\" className=\"btn  btn-sm radius-0 btn-light border\" >&laquo; Back to Manage</Link>\n\n                <div className=\"row mt-4\">\n                    <div className=\"col-md-6\">\n\n                        <div className=\"card rounded-0 mb-2\">\n                            <div className=\"card-header\">\n                                <div className=\"font-weight-bold\" >Current Topic in Doc.</div>\n                            </div>\n                            <div className=\"card-body\">\n                                {listItems}\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"col-md-6\">\n                        <div className=\"card rounded-0 mb-2 \">\n                            <div className=\"card-header \">\n                                <div className=\"font-weight-bold\" >Add Topic</div>\n                            </div>\n                            <div className=\"card-body\">\n                                <form onSubmit={this.handleSubmit}>\n                                    <div className=\"form-group row \">\n                                        <div className=\"col-sm-9\">\n                                            <input type=\"text\" name=\"name\" onChange={this.handleInputChange} value={this.state.name} className=\"form-control\" placeholder=\"Masukan nama topic\" />\n                                        </div>\n                                        <div className=\"col-sm-3\">\n                                            <button className=\"btn btn-dark \">Simpan</button>\n                                        </div>\n                                    </div>\n                                </form>\n                                <div className=\"clear clearfix\"></div>\n                                <div className=\"h5 mt-4\">Topic Template</div>\n                                <div>\n                                    {listTemplates}\n                                </div>\n\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <Confirmation\n                    visible={this.state.modalVisible}\n                    modal ={e => this.openModal()}\n                    remove ={e => this.handleRemoveTopic()}\n                    message=\"When deleting a topic, the pages inside will also be deleted. Are you sure to remove this topic?\"\n                 />\n\n\n            </main>\n        );\n    }\n}\n\n\n\nexport default Topic;","/*\n * Tiniru Doc\n * Version 0.1, 2019\n * \n * @author - https://github.com/kangfauz\n * \n * @website - https://tiniru.com\n * \n */\n\nimport React, { Component } from 'react';\nimport { Link, Prompt } from 'react-router-dom'\n\nimport { Config } from '../config.js'\n\nconst DB_name = Config.DB_name;\nconst DB_version = Config.DB_version;\nconst topicTable = Config.topicTable;\nconst pageTable = Config.pageTable;\n\nconst toUrl = (url)=>{\n    return encodeURI(url.replace(' ','').toLowerCase());\n}\n\nclass Write extends Component {\n    constructor(props) {\n        super(props);\n        this.handleLoad = this.handleLoad.bind(this);\n\n        var paramSlug = this.props.match.params.slug;\n        \n        \n        this.state={\n            topic           : paramSlug,\n            slug            : '',\n            title           : sessionStorage.getItem(\"__title\")!== null?sessionStorage.getItem(\"__title\"):'',\n            content         : sessionStorage.getItem(\"__content\")!== null?sessionStorage.getItem(\"__content\"):'',\n            meta_keywords   : sessionStorage.getItem(\"__meta_keywords\")!== null?sessionStorage.getItem(\"__meta_keywords\"):'',\n            meta_description: sessionStorage.getItem(\"__meta_description\")!== null?sessionStorage.getItem(\"__meta_description\"):'',\n            publish         : 1,\n            order           : 1,\n            project         : localStorage.getItem('myProject'),\n            topic_title     : '',\n            isEdit          : true,\n        };\n        \n       \n        \n\n        //console.log(this.state);\n\n        \n\n        this.handleInputChange = this.handleInputChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.onUnload = this.onUnload.bind(this);\n        \n    }\n    componentDidMount() {\n      \n        this.handleLoad();\n        document.getElementById('topnav').style.display = 'none';\n        window.scrollTo(0,0);\n        window.addEventListener(\"beforeunload\", this.onUnload)\n    }\n    componentWillUnmount()\n    {\n        //document.getElementById('topnav').style.display = 'flex';\n        //sessionStorage.setItem(\"__slug\",\"\");\n        sessionStorage.setItem(\"__title\",\"\");\n        sessionStorage.setItem(\"__content\",\"\");\n        sessionStorage.setItem(\"__meta_keywords\",\"\");\n        sessionStorage.setItem(\"__meta_description\",\"\");\n        sessionStorage.setItem(\"__slug\",\"\");\n        window.removeEventListener(\"beforeunload\", this.onUnload)\n    }\n    componentDidUpdate (){\n       \n    }\n\n    onUnload(e) { \n        e.preventDefault();\n        return e.returnValue = 'You have unsaved changes, are you sure you want to leave?';\n    }\n    handleLoad()\n    {\n        \n\n        var toolbarOptions ={\n            container:[\n                    ['bold', 'italic', 'underline'/*, 'strike'*/],        /*// toggled buttons*/\n                    ['blockquote', 'code-block'],\n                    /*//[{ 'header': 1 }, { 'header': 2 }], */              /*// custom button values*/\n                    [{ 'list': 'ordered'}, { 'list': 'bullet' }],\n                    [{ 'script': 'sub'}, { 'script': 'super' }],      /*// superscript/subscript*/\n                    /*//[{ 'indent': '-1'}, { 'indent': '+1' }],*/          /*// outdent/indent*/\n                    /*[{ 'direction': 'rtl' }],*/                        /*// text direction*/\n                    [{ 'size': ['small', false, 'large', 'huge'] }],  /*// custom dropdown*/\n                    [{ 'header': [2,3, 4, false] }],\n                    [ 'link', 'image', 'video', /*'formula' */],          /*// add's image support*/\n                    [{ 'color': [] }, { 'background': [] }],          /*// dropdown with defaults from theme*/\n                    /*//[{ 'font': [] }],*/\n                    [{ 'align': [] }],\n    \n                    ['clean'],                                         /*// remove formatting button*/\n                    [{ 'instable': ['AddTable', 'RowAbove', 'RowBelow', 'ColLeft', 'ColRight','DelRow','DelCol','DelTable'] }],\n                    \n                ],\n            handlers: {\n                \"instable\": function (value) { \n                    if (value) {\n                        if(value===\"AddTable\")\n                        {\n                            table.insertTable(2, 2);\n                        }else if(value===\"RowAbove\")\n                        {\n                            table.insertRowAbove();\n                        }else if(value===\"RowBelow\")\n                        {\n                            table.insertRowBelow();\n                        }else if(value===\"ColLeft\")\n                        {\n                            table.insertColumnLeft();\n                        }else if(value===\"ColRight\")\n                        {\n                            table.insertColumnRight();\n                        }else if(value===\"DelRow\")\n                        {\n                            table.deleteRow();\n                        }else if(value===\"DelCol\")\n                        {\n                            table.deleteColumn();\n                        }else if(value===\"DelTable\")\n                        {\n                             table.deleteTable();\n                        }\n                        \n                        \n                    }\n                },\n                \"buttonlink\": function (value){\n                        var range = quill.getSelection();\n                        if (range) {\n                          var hashtag = prompt(\"Link url\", \"\");\n                          quill.insertEmbed(range.index, 'Button', hashtag);\n                        }\n                    }\n                }\n            };\n\n        var quill = new window.Quill('#editor', {\n            theme: 'snow',\n            scrollingContainer: document.documentElement,\n            modules: {\n                    table: true,\n                    toolbar: toolbarOptions\n                },\n            placeholder: 'Start writing ...',\n            bounds: '#editor-out'\n            });\n        \n        const table = quill.getModule('table'); \n\n        const placeholderPickerItems = Array.prototype.slice.call(document.querySelectorAll('.ql-instable .ql-picker-item'));\n\n        placeholderPickerItems.forEach(item => item.textContent = item.dataset.value);\n        \n        document.querySelector('.ql-instable .ql-picker-label').innerHTML\n        = 'Table' + document.querySelector('.ql-instable .ql-picker-label').innerHTML;\n        if(document.querySelector('.ql-instable').classList.contains(\"ql-selected\")){ \n            document.querySelector('.ql-instable .ql-selected').classList.remove(\"ql-selected\");\n        }\n\n          //quill.setContents(this.state.content);\n        quill.root.innerHTML = this.state.content;\n        var ini = this;\n        quill.on('editor-change', function(eventName) {\n            if (eventName === 'text-change') {\n                // args[0] will be delta\n            } else if (eventName === 'selection-change') {\n                // args[0] will be old range\n            }\n            //\n            var myEditor = document.querySelector('#editor');\n            var html = myEditor.children[0].innerHTML;\n            html= html.replace(/(<p[^>]*?>[\\s|&nbsp;]*<\\/p>)/g, '');\n            html= html.replace(/<elmblock class=\"elm-block\" data-language=\"plain\">/g, '');\n            html= html.replace(/<\\/elmblock>/g, \"\\n\");\n            //console.log(html);\n            ini.setState({content:html});\n            sessionStorage.setItem(\"__content\", html);\n        });\n\n\n        //console.log('handle load write')\n        var request = window.indexedDB.open(DB_name, DB_version);\n        var db;\n        \n        var paramSlug = this.props.match.params.slug;\n        request.onsuccess = function(event) {\n            db = event.target.result; // === request.result\n            \n            if(ini.props.match.path==='/edit/:slug')\n            {\n                //console.log(paramSlug)\n                var transactionPage = db.transaction([pageTable], \"readonly\");\n                var objectPage = transactionPage.objectStore(pageTable);\n                var objectPageRequest = objectPage.get(paramSlug);\n\n                \n                objectPageRequest.onsuccess = function (event) {\n                    var dt = objectPageRequest.result;\n                    //console.log(dt)\n                    //console.log(\"this edit page\")\n                    var currentPage = false;\n\n                    \n\n                    if ( sessionStorage.getItem(\"__slug\")=== dt.slug)\n                    {\n                        currentPage = true;\n                        \n                    } \n                    //console.log(currentPage);\n                    \n                    ini.setState({\n                        topic           : dt.topic,\n                        slug            : dt.slug,\n                        title           : sessionStorage.getItem(\"__title\")!== null &&  currentPage ?sessionStorage.getItem(\"__title\"):dt.title,\n                        content         :  currentPage?sessionStorage.getItem(\"__content\"):dt.content,\n                        meta_keywords   : sessionStorage.getItem(\"__meta_keywords\")!== null &&  currentPage?sessionStorage.getItem(\"__meta_keywords\"):dt.meta_keywords,\n                        meta_description: sessionStorage.getItem(\"__meta_description\")!== null &&  currentPage?sessionStorage.getItem(\"__meta_description\"):dt.meta_description,\n                        publish         : dt.publish,\n                        order           : dt.order,\n                        project         : dt.project,\n                    });\n                    //ini.refs.title.value = dt.title;\n                    sessionStorage.setItem(\"__slug\",dt.slug);\n                    quill.root.innerHTML = currentPage?sessionStorage.getItem(\"__content\"):dt.content;\n                    var transaction = db.transaction([topicTable], \"readonly\");\n                    var objectStore = transaction.objectStore(topicTable);\n                    var objectStoreRequest = objectStore.get(dt.topic);\n\n                    objectStoreRequest.onsuccess = function (event) {\n                        var dt = objectStoreRequest.result;\n                        ini.setState({topic_title:dt.name});\n                    };\n                    ini.forceUpdate()\n                };\n                \n\n            }else{\n                var transaction = db.transaction([topicTable], \"readonly\");\n                var objectStore = transaction.objectStore(topicTable);\n                var objectStoreRequest = objectStore.get(ini.state.topic);\n\n                \n                objectStoreRequest.onsuccess = function (event) {\n                    var dt = objectStoreRequest.result;\n                    ini.setState({topic_title:dt.name});\n                    sessionStorage.setItem(\"__topic\", dt.slug);\n                };\n            }\n\n            \n        }\n\n        request.onerror = function(event) {\n            console.log('[onerror]', request.error);\n        };\n\n        \n    }\n\n    handleInputChange(event)\n    {\n        const target    = event.target;\n        const value     = target.value;\n        const name      = target.name;\n\n        this.setState({\n            [name]: value,\n            isEdit:true\n        });\n        //this.setState({isEdit:true});\n        sessionStorage.setItem(\"__\"+name, value);\n\n    }\n\n    handleSubmit(e)\n    {\n        this.setState({isEdit:false});\n        e.preventDefault();\n\n        var dataIns = { \n                topic           : this.state.topic,\n                slug            : toUrl(this.state.title),\n                title           : this.state.title,\n                content         : this.state.content,\n                meta_keywords   : this.state.meta_keywords,\n                meta_description: this.state.meta_description,\n                publish         : 1,\n                order           : 1,\n                project         : localStorage.getItem('myProject'),\n             };\n\n             if(this.props.match.path==='/edit/:slug')\n             {\n                dataIns.slug = this.state.slug\n             }\n\n        var ini = this;\n        var request = window.indexedDB.open(DB_name, DB_version);\n        var db;\n        var prop = this.props;\n        request.onsuccess = function(event) {\n            //console.log('[onsuccess]', request.result);\n            db = event.target.result; // === request.result\n            \n            //console.log(db);\n            var transaction = db.transaction([pageTable], \"readwrite\");\n            var objectStore = transaction.objectStore(pageTable);\n            //console.log(dataIns);\n            var objectStoreRequest = objectStore.put(dataIns);\n\n            \n            objectStoreRequest.onsuccess = function (event) {\n                //console.log('The data has been written successfully');\n               \n                prop.history.push(\"/manage#\"+ini.state.topic)\n\n            };\n\n            objectStoreRequest.onerror = function (event) {\n                console.log('The data has been written failed');\n            }\n            \n        };\n        \n    }\n\n    render() {\n        //console.log(this.state);\n        return (\n        <main className=\"mt-2\" style={{background: '#eaeaea'}} >\n            <Prompt\n                when={this.state.isEdit}\n                message='You have unsaved changes, are you sure you want to leave?'\n                />\n            <form onSubmit={this.handleSubmit}>\n            <div className=\"sticky-top bg-white pt-2 pb-2\">\n                <div className=\"container-fluid\">\n                    <div className=\"row\">\n                        <div className=\"col-lg-3\">\n                            <h3>\n                            <Link to=\"/manage\" className=\"btn btn-secondary btn-sm rounded-2 mr-3\" >&lt;</Link>\n                            <span className=\"font-weight-lighter\">Create Page</span>\n                            </h3>\n                        </div>\n                        <div className=\"col-lg-9 pr-lg-5 pl-lg-5\">\n                            <div className=\"mr-lg-5\" >\n                                <input className=\"form-control rounded-0 border-top-0 border-right-0 border-left-0 border-secondary p-0\" placeholder=\"Title of page\" name=\"title\" ref=\"title\" type=\"text\"  value={this.state.title} onChange={this.handleInputChange}  />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            \n            <div className=\"container-fluid \" >\n                <div className=\"row \">\n\n                    <div className=\"col-lg-3 py-4 bg-white order-lg-0 \" id=\"outleft\">\n                    \n                    <div id=\"left-inner\" className=\"bg-white pb-5  \">\n                        <div className=\"\" >\n                                <div className=\"mb-5 text-center h5\" >\n                                    <div className=\" \">\n                                        <small className=\"d-block font-weight-lighter mb-1\">Topic of</small>\n                                        {this.state.topic_title}\n                                    </div>\n                                </div>\n                                <div className=\"mb-4 \" >\n                                    <label>Meta Keywords</label>\n                                    <textarea className=\"form-control form-control-sm rounded-0\" name=\"meta_keywords\" placeholder=\"Meta Keywords ...\" value={this.state.meta_keywords} ref=\"meta_keywords\" onChange={this.handleInputChange} ></textarea>\n                                </div>\n                                <div className=\"mb-4\" >\n                                    <label>Meta Description</label>\n                                    <textarea className=\"form-control form-control-sm rounded-0\" name=\"meta_description\" value={this.state.meta_description} placeholder=\"Meta Deskripsi ...\" ref=\"meta_description\" onChange={this.handleInputChange} ></textarea>\n                                </div>\n                        </div>\n                    </div>\n                    \n                </div>\n\n                    <div className=\"col-lg-9 content pr-lg-5 pl-lg-5 order-lg-1 \" >\n                        <div id=\"editor-out\" className=\"mr-lg-3 pb-lg-5\">\n                     \n                            <div id=\"editor\" className=\"bg-white border-0 mb-lg-5 mb-3\">\n                            \n                            </div>\n                        </div>\n                    </div>\n                    \n                    \n                </div>\n                <button type=\"submit\" id=\"btn-push\" style={{position: 'fixed', bottom: '0px', right: '0px'}} className=\"btn btn-dark rounded-1 mb-3 mx-lg-5 mx-3\">Save Page</button>\n            </div>\n            </form>\n        </main>\n        );\n    }\n}\n\n\n\nexport default Write;","/*\n * Tiniru Doc\n * Version 0.1, 2019\n * \n * @author - https://github.com/kangfauz\n * \n * @website - https://tiniru.com\n * \n */\n\nimport React, { Component } from 'react';\nimport { Link, Prompt } from 'react-router-dom'\n\nimport {Config} from '../config.js'\n\nconst DB_name       = Config.DB_name;\nconst DB_version    = Config.DB_version;\nconst changeLogTable = Config.changeLogTable;\n\nconst toUrl = (url)=>{\n    return encodeURI(url.replace(' ','').toLowerCase());\n}\nconst suffix = \"_log\";\nclass Changelog extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state={\n            title           : sessionStorage.getItem(\"__title\"+suffix)!== null?sessionStorage.getItem(\"__title\"+suffix):'',\n            slug            : '',\n            datelog         : sessionStorage.getItem(\"__datelog\"+suffix)!== null?sessionStorage.getItem(\"__datelog\"+suffix):'',\n            content         : sessionStorage.getItem(\"__content\"+suffix)!== null?sessionStorage.getItem(\"__content\"+suffix):'',\n            publish         : 1,\n            order           : 1,\n            project         : localStorage.getItem('myProject'),\n            topic_title     : localStorage.getItem('myProjectName'),\n            isEdit          : true,\n        };\n\n        this.handleInputChange = this.handleInputChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.onUnload = this.onUnload.bind(this);\n    }\n    componentDidMount() {\n      \n        this.handleLoad();\n        document.getElementById('topnav').style.display = 'none';\n        window.scrollTo(0,0);\n        window.addEventListener(\"beforeunload\", this.onUnload)\n    }\n    componentWillUnmount()\n    {\n       //document.getElementById('topnav').style.display = 'flex';\n        //sessionStorage.setItem(\"__slug\"+suffix,\"\");\n\n        sessionStorage.setItem(\"__title\"+suffix,\"\");\n        sessionStorage.setItem(\"__content\"+suffix,\"\");\n        sessionStorage.setItem(\"__datelog\"+suffix,\"\");\n        sessionStorage.setItem(\"__slug\"+suffix,\"\");\n\n        window.removeEventListener(\"beforeunload\", this.onUnload)\n    }\n    componentDidUpdate (){\n       \n    }\n\n    onUnload(e) { \n        \n        return e.returnValue = 'You have unsaved changes, are you sure you want to leave?';\n        //e.preventDefault();\n    }\n\n    handleLoad()\n    {\n\n        var toolbarOptions ={\n            container:[\n                    ['bold', 'italic', 'underline'/*, 'strike'*/],        /*// toggled buttons*/\n                    ['blockquote', 'code-block'],\n                    /*//[{ 'header': 1 }, { 'header': 2 }], */              /*// custom button values*/\n                    [{ 'list': 'ordered'}, { 'list': 'bullet' }],\n                    [{ 'script': 'sub'}, { 'script': 'super' }],      /*// superscript/subscript*/\n                    /*//[{ 'indent': '-1'}, { 'indent': '+1' }],*/          /*// outdent/indent*/\n                    /*[{ 'direction': 'rtl' }],*/                        /*// text direction*/\n                    [{ 'size': ['small', false, 'large', 'huge'] }],  /*// custom dropdown*/\n                    [{ 'header': [2,3, 4, false] }],\n                    [ 'link', 'image', 'video', /*'formula' */],          /*// add's image support*/\n                    [{ 'color': [] }, { 'background': [] }],          /*// dropdown with defaults from theme*/\n                    /*//[{ 'font': [] }],*/\n                    [{ 'align': [] }],\n    \n                    ['clean'],                                         /*// remove formatting button*/\n                    [{ 'instable': ['AddTable', 'RowAbove', 'RowBelow', 'ColLeft', 'ColRight','DelRow','DelCol','DelTable'] }],\n                    \n                ],\n            handlers: {\n                \"instable\": function (value) { \n                    if (value) {\n                        if(value===\"AddTable\")\n                        {\n                            table.insertTable(2, 2);\n                        }else if(value===\"RowAbove\")\n                        {\n                            table.insertRowAbove();\n                        }else if(value===\"RowBelow\")\n                        {\n                            table.insertRowBelow();\n                        }else if(value===\"ColLeft\")\n                        {\n                            table.insertColumnLeft();\n                        }else if(value===\"ColRight\")\n                        {\n                            table.insertColumnRight();\n                        }else if(value===\"DelRow\")\n                        {\n                            table.deleteRow();\n                        }else if(value===\"DelCol\")\n                        {\n                            table.deleteColumn();\n                        }else if(value===\"DelTable\")\n                        {\n                             table.deleteTable();\n                        }\n                        \n                        \n                    }\n                },\n                \"buttonlink\": function (value){\n                        var range = quill.getSelection();\n                        if (range) {\n                          var hashtag = prompt(\"Link url\", \"\");\n                          quill.insertEmbed(range.index, 'Button', hashtag);\n                        }\n                    }\n                }\n            };\n\n        var quill = new window.Quill('#editor', {\n            theme: 'snow',\n            scrollingContainer: document.documentElement,\n            modules: {\n                    table: true,\n                    toolbar: toolbarOptions\n                },\n            placeholder: 'Start writing ...',\n            bounds: '#editor-out'\n            });\n        \n        const table = quill.getModule('table'); \n\n        const placeholderPickerItems = Array.prototype.slice.call(document.querySelectorAll('.ql-instable .ql-picker-item'));\n\n        placeholderPickerItems.forEach(item => item.textContent = item.dataset.value);\n        \n        document.querySelector('.ql-instable .ql-picker-label').innerHTML\n        = 'Table' + document.querySelector('.ql-instable .ql-picker-label').innerHTML;\n        if(document.querySelector('.ql-instable').classList.contains(\"ql-selected\")){ \n            document.querySelector('.ql-instable .ql-selected').classList.remove(\"ql-selected\");\n        }\n\n          //quill.setContents(this.state.content);\n        quill.root.innerHTML = this.state.content;\n        var ini = this;\n        quill.on('editor-change', function(eventName) {\n            if (eventName === 'text-change') {\n                // args[0] will be delta\n            } else if (eventName === 'selection-change') {\n                // args[0] will be old range\n            }\n            //\n            var myEditor = document.querySelector('#editor');\n            var html = myEditor.children[0].innerHTML;\n            html= html.replace(/(<p[^>]*?>[\\s|&nbsp;]*<\\/p>)/g, '');\n            html= html.replace(/<elmblock class=\"elm-block\" data-language=\"plain\">/g, '');\n            html= html.replace(/<\\/elmblock>/g, \"\\n\");\n            //console.log(html);\n            ini.setState({content:html});\n            sessionStorage.setItem(\"__content\"+suffix, html);\n        });\n\n        var paramSlug = this.props.match.params.slug;\n        if(typeof paramSlug !== 'undefined')\n        {\n            var request = window.indexedDB.open(DB_name, DB_version);\n            var db;\n            \n            request.onsuccess = function(event) {\n                db = event.target.result; // === request.result\n\n                var transactionPage = db.transaction([changeLogTable], \"readonly\");\n                var objectPage = transactionPage.objectStore(changeLogTable);\n                var objectPageRequest = objectPage.get(paramSlug);\n\n                \n                objectPageRequest.onsuccess = function (event) {\n                    var dt = objectPageRequest.result;\n                    //console.log(dt)\n                    //console.log(\"this edit page\")\n                    var currentPage = false;\n\n                    \n\n                    if ( sessionStorage.getItem(\"__slug\"+suffix)=== dt.slug)\n                    {\n                        currentPage = true;\n                        \n                    } \n                    //console.log(currentPage);\n                    \n                    ini.setState({\n                        slug            : dt.slug,\n                        title           : sessionStorage.getItem(\"__title\"+suffix)!== null &&  currentPage ?sessionStorage.getItem(\"__title\"+suffix):dt.title,\n                        content         :  sessionStorage.getItem(\"__content\"+suffix)!== null && currentPage?sessionStorage.getItem(\"__content\"+suffix):dt.content,\n                        datelog   : sessionStorage.getItem(\"__meta_keywords\")!== null &&  currentPage?sessionStorage.getItem(\"__datelog\"+suffix):dt.datelog,\n                        publish         : dt.publish,\n                        order           : dt.order,\n                        project         : dt.project,\n                    });\n                    //ini.refs.title.value = dt.title;\n                    sessionStorage.setItem(\"__slug\"+suffix,dt.slug);\n                    quill.root.innerHTML = currentPage?sessionStorage.getItem(\"__content\"+suffix):dt.content;\n\n                    ini.forceUpdate()\n                };\n            }\n        }\n        \n    }\n\n    handleInputChange(event)\n    {\n        const target    = event.target;\n        const value     = target.value;\n        const name      = target.name;\n\n        this.setState({\n            [name]: value,\n            isEdit:true\n        });\n        //this.setState({isEdit:true});\n        sessionStorage.setItem(\"__\"+name+suffix, value);\n\n    }\n\n    handleSubmit(e)\n    {\n        this.setState({isEdit:false});\n\n        e.preventDefault();\n        var dataIns = { \n            slug            : toUrl(this.state.title),\n            title           : this.state.title,\n            content         : this.state.content,\n            datelog         : this.state.datelog,\n            publish         : 1,\n            order           : 1,\n            project         : localStorage.getItem('myProject'),\n         };\n\n        \n        var request = window.indexedDB.open(DB_name, DB_version);\n        var db;\n        var prop = this.props;\n        request.onsuccess = function(event) {\n            //console.log('[onsuccess]', request.result);\n            db = event.target.result; // === request.result\n            \n            //console.log(db);\n            var transaction = db.transaction([changeLogTable], \"readwrite\");\n            var objectStore = transaction.objectStore(changeLogTable);\n            //console.log(dataIns);\n            var objectStoreRequest = objectStore.put(dataIns);\n\n            \n            objectStoreRequest.onsuccess = function (event) {\n                //console.log('The data has been written successfully');\n                \n                prop.history.push(\"/manage\")\n\n            };\n\n            objectStoreRequest.onerror = function (event) {\n                console.log('The data has been written failed');\n            }\n            \n        };\n\n    }\n\n    render() {\n        //console.log(this.state)\n        return (\n            <main className=\"mt-2\" style={{background: '#eaeaea'}} >\n            <Prompt\n                when={this.state.isEdit}\n                message='You have unsaved changes, are you sure you want to leave?'\n                />\n            <form onSubmit={this.handleSubmit}>\n            <div className=\"sticky-top bg-white pt-2 pb-2\">\n                <div className=\"container-fluid\">\n                    <div className=\"row\">\n                        <div className=\"col-lg-3\">\n                            <h3>\n                            <Link to=\"/manage\" className=\"btn btn-secondary btn-sm rounded-2 mr-3\" >&lt;</Link>\n                            <span className=\"font-weight-lighter\">Change Log</span>\n                            </h3>\n                        </div>\n                        <div className=\"col-lg-9 pr-lg-5 pl-lg-5\">\n                            <div className=\"mr-lg-5\" >\n                                <input className=\"form-control rounded-0 border-top-0 border-right-0 border-left-0 border-secondary p-0\" placeholder=\"Name of Change log\" name=\"title\" ref=\"title\" type=\"text\"  value={this.state.title} onChange={this.handleInputChange}  />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            \n            <div className=\"container-fluid \" >\n                <div className=\"row \">\n\n                    <div className=\"col-lg-3 py-4 bg-white order-lg-0 \" id=\"outleft\">\n                    \n                    <div id=\"left-inner\" className=\"bg-white pb-5  \">\n                        <div className=\"\" >\n                                <div className=\"mb-5 text-center h5\" >\n                                    <div className=\" \">\n                                        <small className=\"d-block font-weight-lighter mb-1\">Documentation of</small>\n                                        {this.state.topic_title}\n                                    </div>\n                                </div>\n                                <div className=\"mb-4 \" >\n                                    <label>Date of Change Log</label>\n                                    <input type=\"date\" value={this.state.datelog} onChange={this.handleInputChange} className=\"form-control rounded-0\" name=\"datelog\" />\n                                </div>\n                                \n                        </div>\n                    </div>\n                    \n                </div>\n\n                    <div className=\"col-lg-9 content pr-lg-5 pl-lg-5 order-lg-1 \" >\n                        <div id=\"editor-out\" className=\"mr-lg-3 pb-lg-5\">\n                     \n                            <div id=\"editor\" className=\"bg-white border-0 mb-lg-5 mb-3\">\n                            \n                            </div>\n                        </div>\n                    </div>\n                    \n                    \n                </div>\n                <button type=\"submit\" id=\"btn-push\" style={{position: 'fixed', bottom: '0px', right: '0px'}} className=\"btn btn-dark rounded-1 mb-3 mx-lg-5 mx-3\">Save Page</button>\n            </div>\n            </form>\n        </main>\n        )\n    }\n}\n\nexport default Changelog;","/*\n * Tiniru Doc\n * Version 0.1, 2019\n * \n * @author - https://github.com/kangfauz\n * \n * @website - https://tiniru.com\n * \n */\n\nimport React, { Component } from 'react';\nimport { Link, Prompt } from 'react-router-dom'\n\nimport Confirmation from './Confirmation'\n\nimport { getListRecord, getRecord, getLastRecord } from '../helpers/Query.js'\nimport { postData } from '../helpers/Helpers.js'\n\nimport {Config} from '../config.js'\n\nconst DB_name       = Config.DB_name;\nconst DB_version    = Config.DB_version;\nconst projectTable  = Config.projectTable;\nconst navigationTable = Config.navigationTable;\nconst topicTable    = Config.topicTable;\nconst pageTable     = Config.pageTable;\nconst changeLogTable = Config.changeLogTable;\n\n\nclass Navigation extends Component{\n    render() {\n            return (\n            <div \n                onDragOver={this.props.dragover}\n                                \n                className=\"card rounded-0 mb-2 \">\n                <div  draggable=\"true\"  onDragStart={this.props.dragstart} onDragEnd={this.props.dragend}   className=\"card-header py-1 px-3\">\n                    <div  className=\"row\">\n                        <div  className=\"col-md-3\" >\n                            <div className=\"font-weight-bolder\">{this.props.label}</div>\n                        </div>\n                        <div  className=\"col-md-6\" >\n                            <span className=\"font-weight-lighter text-muted\">{this.props.url}</span>\n                        </div>\n                        <div className=\"col-md-3 \">\n                            <button onClick={this.props.remove} className=\"btn btn-sm btn-link py-0 px-1  text-danger\">Del.</button>\n                               \n                        </div>\n                    </div>\n                    \n                </div>\n                \n            </div>\n        )\n    }\n}\n\nclass Generate extends Component{\n    constructor(props) {\n        super(props);\n        this.state = { \n            label   : '',\n            url     : '',\n            navlist : [],\n            server  : 'http://localhost/tiniru-doc-server/generate.php',\n            sdownload  : 'http://localhost/tiniru-doc-server/download.php',\n            slugDeleteNav : '',\n            modalVisible: false,\n            progressBar:false,\n            ProgressBarValue : 1,\n         };\n         this.handleInputChange = this.handleInputChange.bind(this); \n         this.handleSubmit       = this.handleSubmit.bind(this);\n         this.handleLoad         = this.handleLoad.bind(this);\n         this.removeNav        = this.removeNav.bind(this); \n        this.openModal          = this.openModal.bind(this);  \n        this.handleRemoveNav  = this.handleRemoveNav.bind(this);\n         this.onDragOver   = this.onDragOver.bind(this);\n        this.onDragStart  = this.onDragStart.bind(this);\n        this.onDragEnd    = this.onDragEnd.bind(this);\n        this.handleGenerate    = this.handleGenerate.bind(this);\n         this.handleLoad();\n    }\n\n    componentDidMount() {\n        window.scrollTo(0,0);\n    }\n\n    handleLoad() {\n\n        var request = window.indexedDB.open(DB_name, DB_version);\n        var db;\n        var ini = this;\n        request.onsuccess = function (event) {\n            db = event.target.result;\n\n            var transaction = db.transaction([navigationTable], \"readonly\");\n            var objectStore = transaction.objectStore(navigationTable);\n            var objectStoreRequest = objectStore.getAll();\n\n            objectStoreRequest.onsuccess = function (event) {\n                var dt = objectStoreRequest.result;\n                //console.log(dt);\n                var dtlist = []\n\n                dt.map(function (n) {\n\n                    dtlist.push({\n                        label: n.label,\n                        url: n.url,\n                        order: n.order,\n                        project: n.project\n                    })\n                    return true;\n                });\n                var datalist = dtlist.sort(function(a,b) {\n                    return parseFloat(a.order) - parseFloat(b.order);\n                });\n                ini.setState({ navlist: datalist })\n            };\n\n            objectStoreRequest.onerror = function (event) {\n                console.log('[onerror]', objectStoreRequest.error);\n            }\n\n        };\n\n    }\n\n    handleInputChange(event)\n    {\n        const target    = event.target;\n        const value     = target.value;\n        const name      = target.name;\n\n        this.setState({\n            [name]: value\n        });\n   \n    }\n\n    handleSubmit(e) {\n        e.preventDefault();\n        var ini = this;\n        getLastRecord(navigationTable, 'label', function (data) {\n\n            var dataIns = {\n                    label: ini.state.label,\n                    project: localStorage.getItem('myProject'),\n                    url: ini.state.url,\n                };\n            if (data !== null) {\n                dataIns[\"order\"] = data.order + 1;\n            } else {\n                dataIns[\"order\"] = 0;\n            }\n\n            var request = window.indexedDB.open(DB_name, DB_version);\n            var db;\n            \n            request.onsuccess = function(event) {\n                db = event.target.result; \n                \n                var transaction = db.transaction([navigationTable], \"readwrite\");\n                var objectStore = transaction.objectStore(navigationTable);\n                var objectStoreRequest = objectStore.put(dataIns);\n\n                \n                objectStoreRequest.onsuccess = function (event) {\n                    ini.setState({\n                        label: \"\",\n                        url : \"\"\n                    });\n                    ini.handleLoad();\n                };\n\n                \n            };\n\n        });\n\n    }\n    openModal() {\n        console.log(\"Open modal called \", this.state.modalVisible);\n        const modalVisible = !this.state.modalVisible;\n        this.setState({\n          modalVisible\n        });\n    }\n\n    removeNav(slug)\n    {\n        //alert(slug);\n        this.setState({slugDeleteNav:slug});\n        this.openModal();\n    }\n\n    handleRemoveNav()\n    {\n        \n        var request = window.indexedDB.open(DB_name, DB_version);\n        var db;\n        var ini = this;\n        \n        request.onsuccess = function (event) {\n            db = event.target.result;\n            var request = db.transaction([navigationTable], \"readwrite\")\n                .objectStore(navigationTable)\n                .delete(ini.state.slugDeleteNav);\n                \n                request.onsuccess = function(event) {\n                    \n                   \n                    ini.openModal();\n                    ini.handleLoad();\n  \n                   \n                };\n                \n        }\n    }\n\n    onDragStart = (e, idx) => {\n        //console.log(idx);\n        this.draggedItem = this.state.navlist[idx];\n        e.dataTransfer.effectAllowed = \"move\";\n        e.dataTransfer.setData(\"text/html\", e.target);\n        //e.dataTransfer.setDragImage(e.target, 20, 20);\n        e.target.parentNode.className += \" border-dark text-white bg-secondary\";\n      };\n    \n    onDragOver = idx  => {\n        const draggedOverItem = this.state.navlist[idx];\n        // if the item is dragged over itself, ignore\n        if (this.draggedItem === draggedOverItem) {\n            return;\n        }\n        \n        // filter out the currently dragged item\n        //let topicList = this.state.topicList.filter(item => item !== this.draggedItem);\n        let navlist = this.state.navlist.filter(item =>{\n            return item !== this.draggedItem;} );\n        // add the dragged item after the dragged over item\n        navlist.splice(idx, 0, this.draggedItem);\n        //console.log(topicList);\n\n        this.setState({ navlist }); \n    };\n\n    \n\n    onDragEnd = (e) => {\n        this.draggedItem = null;\n\n        e.target.parentNode.classList.remove(\"border-dark\");\n        e.target.parentNode.classList.remove(\"text-white\");\n        e.target.parentNode.classList.remove(\"bg-secondary\");\n\n        var request = window.indexedDB.open(DB_name, DB_version);\n        var db;\n        var ini = this;\n        request.onsuccess = function (event) {\n            db = event.target.result;\n            ini.state.navlist.map((n, idx) => {\n                var dataIns = { \n                        label        : n.label, \n                        project     : n.project, \n                        url         : n.url,\n                        order       : idx\n                    };\n\n                var transaction = db.transaction([navigationTable], \"readwrite\");\n                var objectStore = transaction.objectStore(navigationTable);\n                //console.log(dataIns);\n                var objectStoreRequest = objectStore.put(dataIns);\n                objectStoreRequest.onsuccess = function (event) {\n                };\n                  \n                return dataIns;\n            });\n        }\n    };\n\n    handleGenerate(type)\n    {\n        var ini = this\n        var thisProject = localStorage.getItem('myProject');\n        ini.setState({progressBar:true});\n        //send data project\n        getRecord(projectTable, thisProject, function(dt){\n            postData(ini.state.server, {project:thisProject, datatype:'project', app:dt})\n                .then(function(response) { if(response.result==='next'){\n                    ini.setState({ProgressBarValue:5});\n                    //send data topic\n                    getListRecord(topicTable, function(dt){\n                        postData(ini.state.server, { project:thisProject, datatype:'topics', topics:dt})\n                        .then(function(response) {\n                            ini.setState({ProgressBarValue:10});\n                            //send changelog\n                            getListRecord(changeLogTable, function(dt){\n                                postData(ini.state.server, { project:thisProject,  datatype:'changelog', changelog:dt})\n                                .then(function(response) {\n                                    ini.setState({ProgressBarValue:15});\n                                    //send navgigation\n                                    getListRecord(navigationTable, function(dt){\n                                        postData(ini.state.server, { project:thisProject, datatype:'navigation', navigation:dt})\n                                        .then(function(response) {\n                                            ini.setState({ProgressBarValue:20});\n                                            //send page\n                                            getListRecord(pageTable, function(dt){\n                                                var stripVal = Math.round(80/parseInt(dt.length));\n                                                var barValue = 20;\n\n                                               dt.map((n, idx) => {\n                                                    postData(ini.state.server, { project:thisProject, datatype:'pages', pages:n})\n                                                    .then(function(response) {\n                                                        barValue += stripVal;\n                                                        ini.setState({ProgressBarValue:barValue});\n                                                        if(idx === dt.length-1){\n                                                            ini.setState({ProgressBarValue:100});\n                                                            postData(ini.state.server, {generate:type, project:thisProject, datatype:'generate'})\n                                                            .then(function(response) {\n                                                                ini.setState({progressBar:false});\n                                                                ini.setState({ProgressBarValue:1});\n                                                                window.location = ini.state.sdownload+'?doc='+response.download+'&type='+type\n                                                                //console.log('Done');\n                                                            });\n                                                        }\n                                                    });\n                                                    return true;\n                                               })\n\n                                            })\n                                        });\n                                    })\n                                });\n                            })\n                        });\n                    })\n      \n                }})\n        })\n          \n\n    }\n\n    render() {\n        console.log(this.state.modalVisible)\n        const navlist = this.state.navlist.map((n, idx) =>\n            <Navigation key={n.label}   label={n.label} url={n.url}\n                remove={this.removeNav.bind(this, n.label)}             \n                dragstart={e => this.onDragStart(e, idx)}\n                dragover={e => this.onDragOver(idx)}\n                dragend={e => this.onDragEnd(e)}\n             />\n        );\n        return (\n            <main className=\"container  mt-5 pt-5 mb-5\" >\n                <Prompt\n                when={this.state.modalVisible}\n                message=' Are you sure to remove this navigation??'\n                />\n                <h1 className=\"mb-3\">Generate Doc.</h1>\n                <Link to=\"/manage\" className=\"btn  btn-sm radius-0 btn-light border\" >&laquo; Back to Manage</Link>\n               \n                <div className=\"row mt-4\">\n                    <div className=\"col-md-5\">\n                        <div className=\"card rounded-0 mb-5\">\n                            <div className=\"card-header bg-dark text-white\">\n                                <div className=\"font-weight-bold\" >Register Nav.</div>\n                            </div>\n                            <div className=\"card-body\">\n                                <p className=\"card-text\">Navigation is only used in html files.</p>\n                                <form className=\"\"  onSubmit={this.handleSubmit} >\n                                    <div className=\"input-group  mb-3\">\n                                        <div className=\"input-group-prepend\">\n                                            <span className=\"input-group-text\" >Label</span>\n                                        </div>\n                                        <input type=\"text\" name=\"label\" onChange={this.handleInputChange} value={this.state.label} className=\"form-control\"  />\n                                    </div>\n                                    <div className=\"input-group  mb-3\">\n                                        <div className=\"input-group-prepend\">\n                                            <span className=\"input-group-text\" >Url</span>\n                                        </div>\n                                        <input type=\"text\" name=\"url\" onChange={this.handleInputChange} value={this.state.url} className=\"form-control\"  />\n                                    </div>\n\n                                    <div className=\"text-right\">\n                                        <button type=\"submit\" name=\"save\" className=\"btn btn-dark  \">Save Navigation</button>\n                                    </div>\n                                </form>\n                            </div>\n                        </div>\n\n                        \n                        \n                        \n                    </div>\n\n                    <div className=\"col-md-7\">\n                        \n                        <div className=\"card mb-5 border-primary\">\n                            <div className=\"card-header bg-primary text-white\">\n                                <div className=\"font-weight-bold\" >Generate Document</div>\n                            </div>\n                            <div className=\"card-body\">\n                                <div className=\" mb-4\">\n                                    <label  className=\"col-form-label\">Url server for generate:</label>\n                                    <input type=\"text\" name=\"server\" onChange={this.handleInputChange} value={this.state.server} className=\"form-control form-control-sm\"  />\n                                </div>\n                                <div className=\" mb-4\">\n                                    <label  className=\"col-form-label\">Url server for download:</label>\n                                    <input type=\"text\" name=\"sdownload\" onChange={this.handleInputChange} value={this.state.sdownload} className=\"form-control form-control-sm\"  />\n                                </div>\n                                <div className=\"row\">\n                                    <div className=\"col-md-6\">\n                                        <button type=\"button\"  onClick={this.handleGenerate.bind(this, 'pdf')}  className=\"btn btn-danger btn-block btn-lg\">PDF File</button>\n                                    </div>\n                                    <div className=\"col-md-6\">\n                                        <button type=\"button\" onClick={this.handleGenerate.bind(this, 'html')} className=\"btn btn-dark btn-block btn-lg\">HTML File</button>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n\n                        \n\n                    </div>\n\n                    <div className=\"col-md-12\">\n                        <div className=\"card rounded-0 mb-4\">\n                            <div className=\"card-header\">\n                                <div className=\"font-weight-bold\" >Navigation List</div>\n                            </div>\n                            <div className=\"card-body\">\n                                {navlist}\n                            </div>\n                           \n                        </div>\n                    </div>\n\n                </div>\n\n                <Confirmation\n                    visible={this.state.modalVisible}\n                    modal ={e => this.openModal()}\n                    remove ={e => this.handleRemoveNav()}\n                    message=\"When deleting a topic, the pages inside will also be deleted. Are you sure to remove this topic?\"\n                 />\n\n                <div className={(this.state.progressBar?'show':'false')+' modal in'} id=\"progressModal\"  role=\"dialog\" aria-labelledby=\"confirmModalLabel\" aria-hidden=\"true\" style={this.state.progressBar ? { display: \"block\" }: { display: \"none\" }}>\n                <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n                    <div className=\"modal-content border border-dark\">\n                    <div className=\"modal-header\">\n                        <h6 className=\"modal-title\" id=\"confirmModalLabel\">Please Wait, Generate is running... </h6>\n                    </div>\n                    <div className=\"modal-body\">\n                        <div className=\"progress\">\n                            <div ref=\"progressbar\" className=\"progress-bar\" role=\"progressbar\" style={{width:this.state.ProgressBarValue+'%'}} aria-valuenow={this.state.ProgressBarValue} aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n                        </div>\n                    </div>\n                    \n                    </div>\n                </div>\n                </div>\n\n            </main>\n        )\n    }\n}\n\nexport default Generate;","/*\n * Tiniru Doc\n * Version 0.1, 2019\n * \n * @author - https://github.com/kangfauz\n * \n * @website - https://tiniru.com\n * \n */\nimport React from 'react';\nimport { Switch, Route, Redirect, withRouter } from 'react-router-dom'\nimport { TransitionGroup, CSSTransition } from \"react-transition-group\";\n\nimport Home from '../component/Home'\nimport Project from '../component/Project'\nimport Manage from '../component/Manage'\nimport Topic from '../component/Topic'\nimport Write from '../component/Write'\nimport Changelog from '../component/Changelog'\nimport Generate from '../component/Generate'\n\n\n\n\nfunction isCreated()\n{\n\n  if(localStorage.getItem('myProject')!== null)\n    return true;\n  else return false;\n  \n}\n\nconst Main = ({ location }) => (\n  <main> \n    <TransitionGroup>\n        <CSSTransition\n          key={location.key}\n          timeout={{ enter: 1000, exit: 1000 }}\n          classNames=\"fade\"\n        >\n          <section className=\"route-section\">\n            <Switch location={location}>      \n                {/*<Route exact={true} path='/' component={Home}/>\n                <Route path='/project' component={Project}/>\n                <Route path='/manage' component={Manage}/>\n                <Route path='/topic' component={Topic}/>\n                <Route path='/write/:slug' component={Write}/>\n                <Route path='/edit/:slug' component={Write}/>\n                */}\n                <Route path='/project' component={Project}/>\n\n                <Route path='/manage' render={(props) => {\n                  if(isCreated()){\n                    return  (<Manage  {...props} />)\n                  }else{\n                    if(props.location.pathname === window.location.pathname){\n                      return (<Redirect to=\"/home\" />)\n                    }else{\n                      return null;\n                    }\n                  }\n                  }}/>\n\n                <Route path='/topic'render={(props) => {\n                  if(isCreated()){\n                    return  (<Topic  {...props} />)\n                  }else{\n                    if(props.location.pathname === window.location.pathname){\n                      return (<Redirect to=\"/home\" />)\n                    }else{\n                      return null;\n                    }\n                  }\n                  }}/>\n                <Route path='/write/:slug' render={(props) => {\n                  if(isCreated()){\n                    return  (<Write  {...props} />)\n                  }else{\n                    if(props.location.pathname === window.location.pathname){\n                      return (<Redirect to=\"/home\" />)\n                    }else{\n                      return null;\n                    }\n                  }\n                  }}/>\n                <Route path='/edit/:slug' render={(props) => {\n                  if(isCreated()){\n                    return  (<Write  {...props} />)\n                  }else{\n                    if(props.location.pathname === window.location.pathname){\n                      return (<Redirect to=\"/home\" />)\n                    }else{\n                      return null;\n                    }\n                  }\n                  }}/>\n                <Route path='/changelog/:slug?' render={(props) => {\n                  if(isCreated()){\n                    return  (<Changelog  {...props} />)\n                  }else{\n                    if(props.location.pathname === window.location.pathname){\n                      return (<Redirect to=\"/home\" />)\n                    }else{\n                      return null;\n                    }\n                  }\n                  }}/>\n                <Route path='/generate/:slug?' render={(props) => {\n                  if(isCreated()){\n                    return  (<Generate  {...props} />)\n                  }else{\n                    if(props.location.pathname === window.location.pathname){\n                      return (<Redirect to=\"/home\" />)\n                    }else{\n                      return null;\n                    }\n                  }\n                  }}/>\n\n                <Route exact strict path=\"*\" render={(props) => {\n                  //console.log(isCreated());\n                  //console.log(window.location);\n                  //console.log(props.location.pathname+\"===\"+ window.location.pathname)\n                  if(isCreated()){\n                    if(props.location.pathname === window.location.pathname){\n                      return (<Redirect to=\"/manage\" />)\n                    }else{\n                      return (<Home  {...props} />);\n                    }\n                  }else return (<Home  {...props} />)\n                  }} />\n            </Switch>\n          </section>\n          </CSSTransition>\n      </TransitionGroup>\n  </main>\n)\n\n//export default Main;\nexport default withRouter(Main);","/*\n * Tiniru Doc\n * Version 0.1, 2019\n * \n * @author - https://github.com/kangfauz\n * \n * @website - https://tiniru.com\n * \n */\nimport React, { Component } from 'react';\n\nclass Footer extends Component {\n   render() {\n      return (\n         <div>\n            <footer className=\"sticky-bottom\">\n                <div className=\"container text-center\">\n                    <p><a href=\"https://tiniru.com\">tiniru.com</a> <span>webmaster@tiniru.com</span></p>\n                </div>\n            </footer>\n         </div>\n      );\n   }\n}\nexport default Footer;","/*\n * Tiniru Doc\n * Version 0.1, 2019\n * \n * @author - https://github.com/kangfauz\n * \n * @website - https://tiniru.com\n * \n */\n\nimport React, { Component } from 'react';\nimport './App.css';\n\n\n\nimport Header from './containers/Header';\nimport Main from './containers/Main';\nimport Footer from './containers/Footer';\n\nimport {Config} from './config.js'\n\nconst DB_name       = Config.DB_name;\nconst DB_version    = Config.DB_version;\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.handleLoad = this.handleLoad.bind(this);\n    this.handleLoad();\n  }\n\n  handleLoad()\n    {\n        \n        if( window.indexedDB)\n        {\n            console.log('IndexedDB is supported ');\n        }else\n        {\n            console.log(\"Your browser doesn't support a stable version of IndexedDB.\");\n        }\n        \n        var request = window.indexedDB.open(DB_name, DB_version);\n        var db;\n        request.onupgradeneeded = function(event) { \n            // Save the IDBDatabase interface \n            db = event.target.result;\n          \n            // Create an objectStore for this database\n            var project     = db.createObjectStore('project', {keyPath: 'slug'});\n            var topics      = db.createObjectStore('topics', {keyPath: 'slug'});\n            var pages       = db.createObjectStore('pages', {keyPath: 'slug'});\n            var changelog   = db.createObjectStore('changelog', {keyPath: 'slug'});\n            var navigation  = db.createObjectStore('navigation', {keyPath: 'label'});\n\n            project.createIndex(\"slug\", 'slug',{unique: true});\n            topics.createIndex(\"slug\", 'slug',{unique: true});\n            pages.createIndex(\"slug\", 'slug',{unique: true});\n            pages.createIndex(\"topic\", 'topic');\n            changelog.createIndex(\"slug\", 'slug',{unique: true});\n            navigation.createIndex(\"label\", 'label');\n        };\n        request.onsuccess = function(event) {\n\n            db = event.target.result; // === request.result\n            \n        };\n        request.onerror = function(event) {\n            console.log('[onerror]', request.error);\n        };\n  \n    }\n\n  render() {\n    return (\n        <div>\n            <Header/>\n            <Main/>\n            <Footer/>\n        </div>\n    );\n  }\n}\n\n\n\n\nexport default App;\n","/*\n * Tiniru Doc\n * Version 0.1, 2019\n * \n * @website - https://tiniru.com\n * \n */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from \"react-router-dom\";\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport './index.css';  \nimport App from './App';\n//import * as serviceWorker from './serviceWorker';\n\n//ReactDOM.render(<App />, document.getElementById('root'));\nReactDOM.render(\n                <HashRouter>\n                    <App />\n                </HashRouter>,\n                document.getElementById('root')\n                );\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n//serviceWorker.register();\n"],"sourceRoot":""}